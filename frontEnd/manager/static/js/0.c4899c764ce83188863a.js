webpackJsonp([0],{Fsho:function(a,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={name:"asamBI",data:function(){return{src:"",isLoading:!0,error:!1}},computed:{allowAsamBIUrl:function(){var a=null,s=this.$store.state.auth.sysMenuMap[this.$route.name];return s&&s.allow?s.allow.some(function(s){return s.match("/asamBI/")?(a=s.replace("/asamBI/",""),!0):!!s.match("/dataease/")&&(a=s.replace("/dataease/",""),!0)}):a=null,a}},methods:{setUrl:function(){this.error=!1,this.isLoading=!0;var a=window.location.origin+"/asamBI-api";_sysBaseConf&&_sysBaseConf.sysBaseUrl&&(a=_sysBaseConf.sysBaseUrl+"/asamBI-api"),this.$route.params&&this.$route.params.linkId?this.src=a+"/link/"+this.$route.params.linkId:this.allowAsamBIUrl?this.src=a+"/link/"+this.allowAsamBIUrl:(this.error=!0,this.isLoading=!1)}},mounted:function(){var a=this;this.$refs.iframe&&(this.$refs.iframe.onload=function(){a.isLoading=!1})},created:function(){this.setUrl()},watch:{"$route.params.linkId":function(){this.setUrl()},allowAsamBIUrl:function(){this.setUrl()}}},e={render:function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"iframe-wrap"},[t("iframe",{ref:"iframe",attrs:{src:a.src,frameborder:"0"}}),a._v(" "),a.isLoading?t("img",{staticClass:"loading-img",attrs:{src:"./static/images/loading.webp"}}):a._e(),a._v(" "),a.error?t("div",{staticClass:"error-text"},[t("img",{attrs:{src:"./static/images/custom-empty-image.png"}}),a._v(" "),t("div",{staticStyle:{"margin-top":"15px"}},[a._v("当前页面未配置"+a._s(a.allowAsamBIUrl))])]):a._e()])},staticRenderFns:[]};var i=t("C7Lr")(r,e,!1,function(a){t("pPea")},"data-v-3f1e6c73",null);s.default=i.exports},pPea:function(a,s){}});