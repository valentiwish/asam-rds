webpackJsonp([6],{"/Chq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("3cXf"),r=n.n(a),i=n("aA9S"),o=n.n(i),s=new(n("4Zt/").default),u=function(e,t){var n={"device-type":"PC","access-token":localStorage.getItem("access_token"),"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8;"};t||(t={}),e&&(e.match("/service_auth/")||e.match("/service_user/"))&&void 0==t["Content-Type"]&&(t["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8;");var a=[];return"application/x-www-form-urlencoded;charset=UTF-8;"==(n=o()({},n,t))["Content-Type"]?a.push(function(e){return Qs.stringify(e)}):a.push(function(e){return r()(e)}),{headers:n,transformRequest:a}},c={post:function(e,t,n){var a=u(e,n);return s.request({url:e,method:"post",data:t,headers:a.headers,transformRequest:a.transformRequest})},postJson:function(e,t,n){n||(n={}),void 0==n["Content-Type"]&&(n["Content-Type"]="application/json");var a=u(e,n);return s.request({url:e,method:"post",data:t,headers:a.headers,transformRequest:a.transformRequest})},get:function(e,t,n){var a=u(e,n);return s.request({url:e,method:"get",params:t,headers:a.headers})},getJson:function(e,t,n){n||(n={}),void 0==n["Content-Type"]&&(n["Content-Type"]="application/json");var a=u(e,n);return s.request({url:e,method:"get",params:t,headers:a.headers})},custom:function(e){var t=e.obj,n=u(t.url,t.headers);return t.headers=n.headers,t.transformRequest=n.transformRequest,s.request(t)}};t.default=c},"2uFj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("4+7t");t.default=a.default},"3Hl2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"forEach",function(){return d}),n.d(t,"getIntersection",function(){return f}),n.d(t,"getUnion",function(){return p}),n.d(t,"hasOneOf",function(){return h}),t.oneOf=function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1},n.d(t,"getRelativeTime",function(){return g}),n.d(t,"getExplorer",function(){return w}),n.d(t,"on",function(){return y}),n.d(t,"off",function(){return _}),n.d(t,"hasKey",function(){return b}),n.d(t,"objEqual",function(){return M});var a=n("ZLEe"),r=n.n(a),i=n("IHPB"),o=n.n(i),s=n("zsLt"),u=n.n(s),c=n("kfHR"),l=n.n(c),d=function(e,t){if(e.length&&t)for(var n=-1,a=e.length;++n<a;){t(e[n],n,e)}},f=function(e,t){for(var n=Math.min(e.length,t.length),a=-1,r=[];++a<n;){var i=t[a];e.indexOf(i)>-1&&r.push(i)}return r},p=function(e,t){return l()(new u.a([].concat(o()(e),o()(t))))},h=function(e,t){return e.some(function(e){return t.indexOf(e)>-1})};var m=function(e){return e<10?"0"+e:e},v=function(e,t){var n=new Date(1e3*e),a=n.getFullYear(),r=m(n.getMonth()+1),i=m(n.getDate()),o=m(n.getHours()),s=m(n.getMinutes()),u=m(n.getSeconds());return"year"===t?a+"-"+r+"-"+i+" "+o+":"+s+":"+u:r+"-"+i+" "+o+":"+s},g=function(e){(function(e){return String(e).length>10})(e)&&Math.floor(e/=1e3),e=Number(e);var t=Math.floor(Date.parse(new Date)/1e3),n=function(e,t){return e<t}(e,t),a=t-e;n||(a=-a);var r=n?"前":"后";return a<=59?a+"秒"+r:a>59&&a<=3599?Math.floor(a/60)+"分钟"+r:a>3599&&a<=86399?Math.floor(a/3600)+"小时"+r:a>86399&&a<=2623859?Math.floor(a/86400)+"天"+r:a>2623859&&a<=31567859&&n?v(e):v(e,"year")},w=function(){var e=window.navigator.userAgent,t=function(t){return e.indexOf(t)>-1};return t("MSIE")?"IE":t("Firefox")?"Firefox":t("Chrome")?"Chrome":t("Opera")?"Opera":t("Safari")?"Safari":void 0},y=document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)},_=document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)},b=function(e,t){return t?t in e:r()(e).length},M=function(e,t){var n=r()(e),a=r()(t);return n.length===a.length&&(0===n.length&&0===a.length||!n.some(function(n){return e[n]!=t[n]}))}},"4+7t":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("R2SV"),r=n("60CL");t.default=a.default.deepObjectMerge(r.default,{})},"4Zt/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("aA9S"),r=n.n(a),i=n("3cXf"),o=n.n(i),s=n("rVsN"),u=n.n(s),c=n("AA3o"),l=n.n(c),d=n("xSur"),f=n.n(d),p=n("OMN4"),h=n.n(p),m=n("IcnI"),v=n("NHnr"),g=function(){function e(){l()(this,e),this.queue={}}return f()(e,[{key:"getInsideConfig",value:function(){return{baseURL:window.location.origin,headers:{}}}},{key:"destroy",value:function(e){delete this.queue[e]}},{key:"interceptors",value:function(e,t){var n=this;e.interceptors.request.use(function(e){return n.queue[t]=!0,e},function(e){return u.a.reject(e)}),e.interceptors.response.use(function(e){if(n.destroy(t),401!=e.data.code)return e;v.default.rejectLogin()},function(e){n.destroy(t);var a=e.response;if(a)401==a.status&&v.default.rejectLogin();else{var r=JSON.parse(o()(e)),i=r.request;a={statusText:i.statusText,status:i.status,request:{responseURL:r.config.url}}}return function(e){var t=e.statusText,n=e.status,a=e.request.responseURL,r={type:"ajax",code:n,mes:t,url:a};a.includes("save_error_logger")||m.default.dispatch("addErrorLog",r)}(a),u.a.reject(e)})}},{key:"request",value:function(e){var t=h.a.create();return e=r()(this.getInsideConfig(),e),this.interceptors(t,e.url),t(e)}}]),e}();t.default=g},"60CL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={appid:"manager",baseUrl:window.location.origin,service_user:window.location.origin+"/service_user",service_log:window.location.origin+"/service_log",service_file:window.location.origin+"/service_file",authority:{whiteRouterList:["*","/login","/home","/403","/404","/500","/000"],router:!0,button:!0}};t.default=a},"6xOv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("cvLt"),r=n("AyCv"),i=n("cyFc"),o=n("n0JV"),s=n("MzNw"),u=n("qKYu"),c=(n("lmwW"),n("lRwf"));c.component("page-title",o.default),c.component("allowBtn",s.default);var l={name:"adminindex",components:{pageHeader:r.default,pageMenu:i.default},data:function(){return{isCollapsed:!1,collapsible:!1}},computed:{showPageMenu:function(){return!this.$route.meta.hidemenu&&!!(this.sideMenuData&&this.sideMenuData.children.length>0)},rotateIcon:function(){return["menu-icon",this.isCollapsed?"rotate-icon":""]},menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]},sideMenuData:function(){var e=this;return this.$store.state.auth.sysMenuData.find(function(t){return t.id===e.$store.state.auth.mainMenuId})}},methods:{checkRouter:function(){var e=Object(a.default)(this.$route);e?this.$router.replace(e):"/000"==this.$route.name&&this.$router.replace("/frontsys")}},mounted:function(){var e=this;this.$store.dispatch("auth/getAuthMoudles",function(){e.checkRouter(),u.default.$emit("authCheckReady")}),this.$store.dispatch("auth/getUserInfo"),this.$store.dispatch("commondata/getSecrecyLevelList")},created:function(){}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"}},[n("pageHeader",{directives:[{name:"show",rawName:"v-show",value:e.$root.showLayout,expression:"$root.showLayout"}]}),e._v(" "),n("Layout",{style:{transition:"all ease 300ms",position:"absolute",top:e.$root.showLayout?e.$store.state.theme.minHeader?"60px":"86px":"0",bottom:0,left:0,right:0}},[n("Sider",{directives:[{name:"show",rawName:"v-show",value:e.$root.showLayout&&e.showPageMenu,expression:"$root.showLayout && showPageMenu"}],staticStyle:{background:"#fff"},attrs:{collapsible:e.collapsible,"collapsed-width":64},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[n("page-menu",{class:e.menuitemClasses,staticStyle:{height:"100%"},attrs:{collapsed:e.isCollapsed}})],1),e._v(" "),n("Layout",{staticStyle:{background:"#fff",height:"100%","overflow-y":"auto"}},[n("div",{staticClass:"page-container"},[n("keep-alive",[e.$route.meta.keepAlive?n("router-view",{staticStyle:{height:"100%"}}):e._e(),e._v(">\n              ")],1),e._v(" "),n("transition",{attrs:{name:"bounce",mode:"out-in"}},[e.$route.meta.keepAlive?e._e():n("router-view",{key:e.activeKey,staticStyle:{height:"100%"}})],1)],1)])],1)],1)},staticRenderFns:[]};var f=n("C7Lr")(l,d,!1,function(e){n("ZTMw")},null,null);t.default=f.exports},A9Jd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={allowsearch:{type:"primary",faicon:"fa fa-search"},allowreset:{type:"default",faicon:"fa fa-refresh"},create:{type:"success",faicon:"fa fa-plus"},"新增":{type:"success",faicon:"fa fa-plus"},view:{type:"primary",faicon:"fa fa-file-text-o"},"查看":{type:"primary",faicon:"fa fa-file-text-o"},"查看权限":{type:"primary",faicon:"fa fa-file-text-o"},update:{type:"info",faicon:"fa fa-edit"},"修改":{type:"info",faicon:"fa fa-edit"},delete:{type:"error",faicon:"fa fa-close"},"删除":{type:"error",faicon:"fa fa-close"},"分配":{type:"primary",faicon:"fa-superpowers"},"分配权限":{type:"primary",faicon:"fa-superpowers"},"分配角色":{type:"primary",faicon:"fa-superpowers"},"重置":{type:"warning",faicon:"fa-history"},"重置密码":{type:"warning",faicon:"fa-history"},"历史记录":{type:"primary",faicon:" fa-list-alt"}}},AyCv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("hRKE"),r=n.n(a),i=n("V8px"),o=n("X/k0"),s=(n("qKYu"),{name:"header",components:{changePwd:i.default,personalInfo:o.default},data:function(){return{baseUserData:[],baseCascader:[],photoSize:{width:0,height:0},selectMenu:"/home",layoutmenucontentW:"1500px"}},computed:{sysMenuDataOriginal:function(){return this.$store.state.auth.sysMenuDataOriginal},sysMenuData:function(){return this.$store.state.auth.sysMenuData},userInfo:function(){if(this.$store.state.auth&&this.$store.state.auth.userInfo)return this.$store.state.auth.userInfo;return{}},getPhotoStyle:function(){return this.photoSize.width==this.photoSize.height?{width:"100%"}:this.photoSize.width>this.photoSize.height?{width:"auto",height:"100%",transform:"translateX(-25%)"}:{height:"auto",width:"100%"}}},methods:{goSysNav:function(){window._sysBaseConf&&(window.location.href=window._sysBaseConf.navUrl)},toggleFullScreen:function(e){this.$store.commit("theme/toggleThemeMinHeader")},showPage:function(e,t){var n=this;this.selectMenu=t.id;this.$nextTick(function(){var e=function e(t){var n=null;t.url&&"#"!=t.url?n=t.url:t.children&&t.children.length>0&&(n=e(t.children[0]));return n}(t);e&&(n.$utils.checkIsUrl(e)?window.open(e):n.$router.push(e))})},loginOut:function(){this.$root.loginout()},userinfo:function(){this.$refs.userInfo&&this.$refs.userInfo.openModal()},updatePwd:function(){this.$refs.changePwd&&this.$refs.changePwd.openModal()},clickMenu:function(e){this[e]&&this[e]()},setLayoutmenucontentW:function(){this.layoutmenucontentW=110*this.sysMenuData.length+"px"},addMouseWheelEvent:function(e,t){"object"==r()(e.onmousewheel)&&(e.onmousewheel=function(e){return e.stopPropagation(),e.preventDefault(),t(e)}),void 0===e.onmousewheel&&e.addEventListener("DOMMouseScroll",function(e){return e.deltaY=100*(e.detail<0?-1:1),e.stopPropagation(),e.preventDefault(),t(e)},!1)},activeMenu:function(){var e=this;this.sysMenuDataOriginal.some(function(t,n){if(t.url==e.$route.name){if(t.pid){var a=e.$utils.getTreeParents(e.sysMenuDataOriginal,t.id);a.length>0?e.selectMenu=a[0].id:e.selectMenu=t.id}else e.selectMenu=t.id;return e.$store.commit("auth/setMainMenuId",e.selectMenu),!0}return!1})},checkPwdOverdue:function(){var e=this;this.$ajax.post("/service_user/account/isPwdOverdue").then(function(t){t.data&&t.data.overdue&&e.$Notice.warning({title:"提醒",name:"notice",render:function(t){return t("span",["您的密码已超过30天未修改，请及时",t("a",{on:{click:function(){e.$Notice.close("notice"),e.updatePwd()}}},"修改"),"!"])},duration:10})},function(){})}},mounted:function(){var e=this;if(this.$refs.layout){var t=this.$refs.layoutmenu;this.addMouseWheelEvent(this.$refs.layout,function(e){return t.scrollLeft=t.scrollLeft+e.deltaY,!1})}this.$nextTick(function(){e.activeMenu(),e.setLayoutmenucontentW()}),$(window).on("resize",function(){e.setLayoutmenucontentW()})},created:function(){var e=this;this.$ajax.post("/service_user/sysVariable/findByCode",{varCode:"CHECK_PWD_OVERDUE"}).then(function(t){200==t.data.code&&1==t.data.data.varValue&&e.checkPwdOverdue()},function(){})},watch:{"$route.path":function(){this.activeMenu()},sysMenuData:function(){this.activeMenu(),this.setLayoutmenucontentW()},userInfo:{immediate:!0,handler:function(e){var t=this;if(e.photoId){var n=new Image;n.src=this.$utils.getFileShowUrl(e.photoId),n.onload=function(){t.photoSize={width:n.width,height:n.height}}}}}}}),u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"layout",staticClass:"pager-header layout",class:{minheader:e.$store.state.theme.minHeader}},[n("div",{staticClass:"layout-logo",attrs:{title:"综合运维系统"}},[n("div",{staticClass:"layout-logo_bg",on:{click:e.goSysNav}}),e._v(" "),n("div",{staticClass:"layout-logo_text",on:{dblclick:e.toggleFullScreen}},[e._v("\n            综合运维系统\n        ")])]),e._v(" "),n("div",{ref:"layoutmenu",staticClass:"layout-menu"},[n("div",{staticClass:"layout-menu-content",style:{width:e.layoutmenucontentW}},e._l(e.sysMenuData,function(t,a){return n("div",{key:t.id,staticClass:"layout-menu-item",class:{active:e.selectMenu==t.id},attrs:{title:t.name},on:{click:function(n){return e.showPage(a,t)}}},[n("div",{staticClass:"layout-menu-item-content"},[n("div",{staticClass:"layout-menu-item-content_icon"},[n("i",{class:t.icon+" fa-fw icon"})]),e._v(" "),n("div",{staticClass:"layout-menu-item-content_title"},[e._v(e._s(t.name))])])])}),0)]),e._v(" "),n("div",{staticClass:"layout-right"},[n("Badge",{attrs:{count:e.$store.state.todoListCount}},[n("div",{staticClass:"pager-header-item layout-userinfo_content",on:{click:function(t){return e.$router.push("/workbench/message")}}},[e.userInfo.photoId?[n("img",{style:e.getPhotoStyle,attrs:{src:e.$utils.getFileShowUrl(e.userInfo.photoId)}})]:["男"==e.userInfo.sex?n("img",{attrs:{src:"./static/images/header/man.jpg"}}):"女"==e.userInfo.sex?n("img",{attrs:{src:"./static/images/header/woman.jpg"}}):n("img",{attrs:{src:"./static/images/header/default-photo.jpg"}})]],2)]),e._v(" "),n("div",{staticClass:"pager-header-item"},[n("Dropdown",{attrs:{trigger:"click"},on:{"on-click":e.clickMenu}},[n("div",{staticStyle:{cursor:"pointer"}},[n("span",{staticStyle:{"vertical-align":"middle"}},[e._v(" 欢迎您")]),e._v(" "),n("span",{staticStyle:{display:"inline-block","max-width":"83px",overflow:"hidden","word-break":"keep-all","white-space":"nowrap","text-overflow":"ellipsis","vertical-align":"middle"},domProps:{innerHTML:e._s(e.userInfo.userName)}}),n("Icon",{attrs:{type:"md-arrow-dropdown"}})],1),e._v(" "),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"userinfo"}},[n("Icon",{attrs:{type:"ios-contact"}}),e._v(" 个人信息")],1),e._v(" "),n("DropdownItem",{attrs:{name:"updatePwd"}},[n("Icon",{attrs:{type:"ios-key"}}),e._v(" 修改密码")],1),e._v(" "),n("DropdownItem",{attrs:{name:"loginOut"}},[n("Icon",{attrs:{type:"md-power"}}),e._v(" 退出系统")],1)],1)],1)],1)],1),e._v(" "),n("personal-info",{ref:"userInfo"}),e._v(" "),n("change-pwd",{ref:"changePwd",attrs:{userInfo:e.userInfo}})],1)},staticRenderFns:[]};var c=n("C7Lr")(s,u,!1,function(e){n("X/r6")},"data-v-4139d03c",null);t.default=c.exports},"D+VX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("rVsN"),r=n.n(a),i=n("3cXf"),o=n.n(i),s=n("Pfph"),u=n("2uFj"),c=function(e,t){e("setSysMenuDataOriginal",t);var n={},a=t.filter(function(e,t){var a=JSON.parse(o()(e));return a.isOperation?a.url&&a.url.split(";").map(function(e,t){n[e]=a}):a.url&&"#"!=a.url&&(n[a.url]=a),1!=e.isOperation}),r=function(e){e.sort(function(e,t){return e.sort-t.sort})},i=[];a.map(function(e,t){var n,o;0!==e.isDisplay&&(void 0==e.pid||e.pid&&0==(n=e.pid,o=[],a.some(function(e,t){return e.id==n&&(o.push(e),!0)}),o).length)&&(e.deep=0,e.children=function e(t,n){var i=[];return a.map(function(a,o){if(a.pid==t&&0!==a.isDisplay){var s=e(a.id,n+1);r(s),s.length>0?a.children=s:a.disabled=!0,a.deep=n,i.push(a)}}),r(i),i}(e.id,1),i.push(e))}),r(i),e("setSysMenuData",i),e("setSysMenuMap",n)},l={getUserInfo:function(e){var t=e.commit,n={};Object(s.getUserInfo)().then(function(e){200===e.data.code?n=e.data.data:n.userName="未知用户",t("setUserInfo",n)},function(){n.userName="未知用户",t("setUserInfo",n)})},login:function(e,t){var n=e.commit,a=t.username,i=t.password;return new r.a(function(e,t){Object(s.ssoLoginAction)({username:a.trim(),password:i}).then(function(t){var a=t.data;n("SET_TOKEN",a.token),setToken(a.token),e()}).catch(function(e){t(e)})})},getAuthMoudles:function(e,t){var n=e.commit;return new r.a(function(e,a){Object(s.getAuthMoudles)({appid:u.default.appid}).then(function(a){200==a.data.code&&a.data.data.length>0&&c(n,a.data.data),n("setCheckReady",!0),e(a.data.data),t()},function(e){a(e),t()})})},getOperationList:function(e){var t=e.commit;e.state;return new r.a(function(e,n){Object(s.getOperationList)().then(function(a){var r=[];200==a.data.code?(r=a.data.data,t("setOperationList",r),e(r)):(t("setOperationList",r),n([]))},function(){t("setOperationList",[]),n([])})})}};t.default={namespaced:!0,state:{checkReady:!1,userInfo:{userName:'<i class="ivu-icon ivu-icon-load-c animate_rotate"></i> ...',roleIds:"",userId:"",loginName:"",phone:"",sex:""},sysMenuMap:{},sysMenuData:[],sysMenuDataOriginal:[],operationList:[],mainMenuId:""},mutations:{setCheckReady:function(e,t){return e.checkReady=t},setUserInfo:function(e,t){return e.userInfo=t},setSysMenuMap:function(e,t){return e.sysMenuMap=t},setSysMenuData:function(e,t){return e.sysMenuData=t},setSysMenuDataOriginal:function(e,t){return e.sysMenuDataOriginal=t},setOperationList:function(e,t){return e.operationList=t},setMainMenuId:function(e,t){return e.mainMenuId=t}},actions:l}},DyCH:function(e,t){},IcnI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("bSIt"),r=n("UjVw");n("lRwf").use(a.a);var i=n("w+hY"),o=i.keys().reduce(function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),a=i(t);return e[n]=a.default,e},{});t.default=new a.a.Store({modules:o,getters:r.default})},KzXw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("t5DY"),r={getSecrecyLevelList:function(e){var t=e.commit;Object(a.getSecrecyLevelList)().then(function(e){"200"==e.data.code?t("setSecrecyLevelList",e.data.data):t("setSecrecyLevelList",[])},function(){t("setSecrecyLevelList",[])})}};t.default={namespaced:!0,state:{secrecyLevelList:[]},mutations:{setSecrecyLevelList:function(e,t){return e.secrecyLevelList=t}},actions:r}},M93x:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view")},staticRenderFns:[]};var r=n("C7Lr")({name:"App"},a,!1,function(e){n("lyUr")},null,null);t.default=r.exports},MzNw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("A9Jd"),r=n("2uFj"),i={name:"allowbtn",props:{size:{default:"default"},allow:{default:""},disabled:{default:!1},type:{default:null},faicon:{default:null}},data:function(){return{selftype:"",selffaicon:""}},computed:{otherText:function(){return r.default.authority.button?"":"【按钮权限未启用】"},isShow:function(){var e=this;if(!r.default.authority.button||["allowsearch","allowreset"].indexOf(this.allow)>-1)return!0;var t=this.$store.state.auth.sysMenuMap[this.$route.name];return!!t&&t.allow.some(function(t){return e.allow==t})}},methods:{emitclick:function(){this.$emit("click")},setSearchBtnStyle:function(){var e=this.allow,t=null;this.$slots.default&&this.$slots.default.length>0&&(t=this.$slots.default[0].text);var n=a.default[e];n||(n=a.default[t]),n?(this.selffaicon=n.faicon,this.selftype=n.type):(this.faicon?this.selffaicon=this.faicon:this.selffaicon="fa fa-file-text-o",this.type?this.selftype=this.type:this.selftype="primary")}},created:function(){this.setSearchBtnStyle()}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("Button",{class:"allowbtn "+e.allow,attrs:{type:e.selftype,disabled:e.disabled,size:e.size,title:e.$slots.default[0].text+e.allow+e.otherText,ghost:"small"==e.size},on:{click:e.emitclick}},[e.selffaicon?n("i",{staticClass:"fa",class:e.selffaicon}):e._e(),e._v(" "),e._t("default")],2):e._e()},staticRenderFns:[]};var s=n("C7Lr")(i,o,!1,function(e){n("mgP0")},"data-v-acf9dd1c",null);t.default=s.exports},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("YaEn"),r=n("/Chq"),i=n("TVG1"),o=n("M93x"),s=n("IcnI"),u=n("2uFj"),c=n("lRwf"),l=n("xaFo");c.prototype.$ajax=r.default,c.prototype.$utils=i.default,c.prototype.$config=u.default,c.config.productionTip=!1,c.use(l);var d=new c({el:"#app",router:a.default,store:s.default,components:{App:o.default},data:function(){return{showLayout:window.self==window.top}},template:"<App/>",methods:{GetQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},rejectLogin:function(e){if(localStorage.removeItem("access_token"),this.showLayout)if(_sysBaseConf.casclient&&_sysBaseConf.casclient.url){var t=window.location.origin+window.location.pathname;"#/login"!=window.location.hash&&(t+=window.location.hash),e?window.location.replace(_sysBaseConf.casclient.url+(e?"?mode="+e:"")):window.location.replace(_sysBaseConf.casclient.url+"?redirecturl="+encodeURIComponent(t)+"&appid="+this.$config.appid+"&state="+(new Date).getTime()+(e?"&mode="+e:""))}else this.$router.push("/login");else top.location.replace(_sysBaseConf.casclient.url+(e?"?mode="+e:""))},loginout:function(){var e=this;this.$Modal.confirm({title:"系统退出确认",content:"您确认退出系统吗？",loading:!0,onOk:function(){var t=this;this.$ajax.post("/service_user/login/logout",{token:localStorage.getItem("access_token")}).then(function(t){e.$Modal.remove(),localStorage.removeItem("access_token"),e.$nextTick(function(){e.rejectLogin("loginout")})},function(){e.$Modal.remove(),t.$Message.warning("网络异常，退出失败")})}})}},mounted:function(){},created:function(){document.title=document.title+" "+_sysBaseConf.name;var e=this.GetQueryString("token");e?(localStorage.setItem("access_token",e),window.location.href=window.location.origin+window.location.pathname+window.location.hash):localStorage.getItem("access_token")||this.rejectLogin()}});window._asam_vmInstance=d,t.default=d,Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},OMN4:function(e,t){e.exports=axios},P0Ti:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={namespaced:!0,state:{minHeader:!1},mutations:{toggleThemeMinHeader:function(e,t){return e.minHeader=void 0==t?!e.minHeader:t}},actions:{}}},Pfph:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ssoLoginAction",function(){return o}),n.d(t,"ssoCreatecode",function(){return s}),n.d(t,"getUserInfo",function(){return u}),n.d(t,"getAuthMoudles",function(){return c}),n.d(t,"getOperationList",function(){return l}),n.d(t,"getDnName",function(){return d});var a=n("/Chq"),r=n("sqb0"),i=n.n(r),o=function(e){return a.default.post("/service_user/login/login",{data:e})},s=function(){return a.default.post("/service-sso/auth/createcode",{},{"x-csrf-token":i.a.get("csrfToken"),"Content-Type":"application/json"})},u=function(e){return a.default.post("/service_user/human/getUserInfo")},c=function(e){return a.default.post("/service_user/moudle/getAuthMoudles",e)},l=function(e){return a.default.post("/service_user/operation/findAll")},d=function(){return a.default.post("/service_user/login/getDnName",{},{"x-csrf-token":i.a.get("csrfToken"),"Content-Type":"application/json"})}},R2SV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("3cXf"),r=n.n(a);t.default={deepObjectMerge:function(e,t){var n=JSON.parse(r()(e));for(var a in t)n[a]=n[a]&&"[object Object]"===n[a].toString()?this.deepObjectMerge(n[a],t[a]):n[a]=t[a];return n}}},S4H7:function(e,t){},TVG1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"TOKEN_KEY",function(){return w}),n.d(t,"setToken",function(){return y}),n.d(t,"getToken",function(){return _}),n.d(t,"hasChild",function(){return b}),n.d(t,"getMenuByRouter",function(){return x}),n.d(t,"getBreadCrumbList",function(){return k}),n.d(t,"getRouteTitleHandled",function(){return I}),n.d(t,"showTitle",function(){return $}),n.d(t,"setTagNavListInLocalstorage",function(){return S}),n.d(t,"getTagNavListFromLocalstorage",function(){return L}),n.d(t,"getHomeRoute",function(){return F}),n.d(t,"getNewTagList",function(){return C}),n.d(t,"canTurnTo",function(){return O}),n.d(t,"getParams",function(){return N}),n.d(t,"getNextRoute",function(){return D}),n.d(t,"doCustomTimes",function(){return j}),n.d(t,"getArrayFromFile",function(){return T}),n.d(t,"getTableDataFromArray",function(){return P}),n.d(t,"findNodeUpper",function(){return U}),n.d(t,"findNodeUpperByClasses",function(){return R}),n.d(t,"findNodeDownward",function(){return E}),n.d(t,"showByAccess",function(){return A}),n.d(t,"routeEqual",function(){return q}),n.d(t,"routeHasExist",function(){return B}),n.d(t,"localSave",function(){return z}),n.d(t,"localRead",function(){return H}),n.d(t,"scrollTop",function(){return V}),n.d(t,"setTitle",function(){return Y});var a=n("rVsN"),r=n.n(a),i=n("3cXf"),o=n.n(i),s=n("IHPB"),u=n.n(s),c=n("4YfN"),l=n.n(c),d=n("sqb0"),f=n.n(d),p=n("2uFj"),h=n("3Hl2"),m=p.default.title,v=p.default.cookieExpires,g=p.default.useI18n,w="token",y=function(e){f.a.set(w,e,{expires:v||1})},_=function(){var e=f.a.get(w);return e||!1},b=function(e){return e.children&&0!==e.children.length},M=function(e,t){return!(e.meta&&e.meta.access&&e.meta.access.length)||!!Object(h.hasOneOf)(e.meta.access,t)},x=function e(t,n){var a=[];return Object(h.forEach)(t,function(t){if(!t.meta||t.meta&&!t.meta.hideInMenu){var r={icon:t.meta&&t.meta.icon||"",name:t.name,meta:t.meta};(b(t)||t.meta&&t.meta.showAlways)&&M(t,n)&&(r.children=e(t.children,n)),t.meta&&t.meta.href&&(r.href=t.meta.href),M(t,n)&&a.push(r)}}),a},k=function(e,t){var n=l()({},t,{icon:t.meta.icon}),a=e.matched;if(a.some(function(e){return e.name===t.name}))return[n];var r=a.filter(function(e){return void 0===e.meta||!e.meta.hideInBread}).map(function(t){var n=l()({},t.meta);return n.title&&"function"==typeof n.title&&(n.__titleIsFunction__=!0,n.title=n.title(e)),{icon:t.meta&&t.meta.icon||"",name:t.name,meta:n}});return r=r.filter(function(e){return!e.meta.hideInMenu}),[l()({},n,{to:t.path})].concat(u()(r))},I=function(e){var t=l()({},e),n=l()({},e.meta),a="";return n.title&&("function"==typeof n.title?(n.__titleIsFunction__=!0,a=n.title(t)):a=n.title),n.title=a,t.meta=n,t},$=function(e,t){var n=e.meta,a=n.title,r=n.__titleIsFunction__;if(a)return a=g?a.includes("{{")&&a.includes("}}")&&g?a.replace(/({{[\s\S]+?}})/,function(e,n){return n.replace(/{{([\s\S]*)}}/,function(e,n){return t.$t(n.trim())})}):r?e.meta.title:t.$t(e.name):e.meta&&e.meta.title||e.name},S=function(e){localStorage.tagNaveList=o()(e)},L=function(){var e=localStorage.tagNaveList;return e?JSON.parse(e):[]},F=function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"home",a=-1,r=t.length,i={};++a<r;){var o=t[a];if(o.children&&o.children.length){var s=e(o.children,n);if(s.name)return s}else o.name===n&&(i=o)}return i},C=function(e,t){var n=t.name,a=t.path,r=t.meta,i=[].concat(u()(e));return i.findIndex(function(e){return e.name===n})>=0?i:(i.push({name:n,path:a,meta:r}),i)},O=function(e,t,n){return function n(a){return a.some(function(a){return a.children&&a.children.length?n(a.children):a.name===e?function(e,t){return!t.meta||!t.meta.access||Object(h.hasOneOf)(e,t.meta.access)}(t,a):void 0})}(n)},N=function(e){var t={};return e.split("?")[1].split("&").forEach(function(e){var n=e.split("=");t[n[0]]=n[1]}),t},D=function(e,t){var n={};if(2===e.length)n=F(e);else{var a=e.findIndex(function(e){return q(e,t)});n=a===e.length-1?e[e.length-2]:e[a+1]}return n},j=function(e,t){for(var n=-1;++n<e;)t(n)},T=function(e){var t=e.name.split("."),n=t[t.length-1];return new r.a(function(t,a){var r=new FileReader;r.readAsText(e);var i=[];r.onload=function(e){var r=e.target.result.trim();i=r.split(/[\n\u0085\u2028\u2029]|\r\n?/g).map(function(e){return e.split("\t")}).map(function(e){return e[0].split(",")}),"csv"===n?t(i):a(new Error("[Format Error]:你上传的不是Csv文件"))}})},P=function(e){var t=[],n=[];if(e.length>1){var a=e.shift();t=a.map(function(e){return{title:e,key:e}}),n=e.map(function(e){var t={};return e.forEach(function(e,n){t[a[n]]=e}),t})}return{columns:t,tableData:n}},U=function e(t,n){if(t.parentNode)return t.parentNode.tagName===n.toUpperCase()?t.parentNode:e(t.parentNode,n)},R=function e(t,n){var a=t.parentNode;if(a){var r=a.classList;return r&&n.every(function(e){return r.contains(e)})?a:e(a,n)}},E=function e(t,n){var a=n.toUpperCase();if(t.childNodes.length)for(var r=-1,i=t.childNodes.length;++r<i;){var o=t.childNodes[r];return o.tagName===a?o:e(o,n)}},A=function(e,t){return Object(h.hasOneOf)(t,e)},q=function(e,t){var n=e.params||{},a=t.params||{},r=e.query||{},i=t.query||{};return e.name===t.name&&Object(h.objEqual)(n,a)&&Object(h.objEqual)(r,i)},B=function(e,t){var n=e.length,a=!1;return j(n,function(n){q(e[n],t)&&(a=!0)}),a},z=function(e,t){localStorage.setItem(e,t)},H=function(e){return localStorage.getItem(e)||""},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments[4];window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)});var i=Math.abs(t-n);!function t(n,a,i){if(n!==a){var o=n+i>a?a:n+i;n>a&&(o=n-i<a?a:n-i),e===window?window.scrollTo(o,o):e.scrollTop=o,window.requestAnimationFrame(function(){return t(o,a,i)})}else r&&r()}(t,n,Math.ceil(i/a*50))},Y=function(e,t){var n=I(e),a=$(n,t),r=a?m+" - "+a:m;window.document.title=r};t.default={uuid:function(e,t){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},randomNum:function(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(t-e+1)+e,10);default:return 0}},checkIsUrl:function(e){return new RegExp("^(http|https)://","i").test(e)},getFileShowUrl:function(e){return"/service_file/show?fileId="+e},getFileDownloadUrl:function(e){return"/service_file/download?fileId="+e},formatDate:function(e,t){if("string"==typeof e&&""!=e.replace(/(^\s*)|(\s*$)/g,"")){e=e.replace(/\-/g,"/");var n=new Date(e);return t?n.Format(t):n}return t?null:""},openUrl:function(e,t){var n=document.createElement("a");document.body.appendChild(n),n.href=e,t&&(n.target="_new"),n.click(),document.body.removeChild(n)},getRandomColor:function(){return"#"+(Math.round(255*Math.random())<<16|Math.round(255*Math.random())<<8|Math.round(255*Math.random())).toString(16)},hex2rgb:function(e){var t=e.toLowerCase();if(t&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var n="#",a=1;a<4;a+=1)n+=t.slice(a,a+1).concat(t.slice(a,a+1));t=n}var r=[];for(a=1;a<7;a+=2)r.push(parseInt("0x"+t.slice(a,a+2)));return r}return t},changePicColor:function(e,t){var n=this.hex2rgb(t),a=document.createElement("canvas");a.width=e.width,a.height=e.height;var r=a.getContext("2d");r.drawImage(e,0,0);for(var i=r.getImageData(0,0,e.width,e.height),o=0;o<i.height;++o)for(var s=0;s<i.width;++s){var u=4*o*i.width+4*s;i.data[u]=n[0],i.data[u+1]=n[1],i.data[u+2]=n[2]}return r.putImageData(i,0,0,0,0,i.width,i.height),a.toDataURL()},formatTreeData:function(e,t){var n=JSON.parse(o()(e)),a=[];return n.map(function(e){(""==e.pid||void 0==e.pid||e.pid&&0==function(e){var t=[];return n.some(function(n){return n.id==e&&(t.push(n),!0)}),t}(e.pid).length)&&(e.title=e.name,e.expand=e.open,e.children=function e(a){var r=[];return n.map(function(n){if(n.pid==a){n.title=n.name,n.expand=n.open;var i=e(n.id);i.length>0?(n.children=i,n.checked=n.children.every(function(e){return e.checked})):"function"==typeof t?n.render=t:"disabledbranch"==t&&(n.disabled=!0),"hidenocheckbranch"==t?(1==n.checked||n.children&&n.children.length>0)&&r.push(n):r.push(n)}}),r}(e.id),a.push(e))}),a},getTreeParents:function(e,t){var n=JSON.parse(o()(e)),a=[],r=function(e){var t=null;return n.some(function(n){return n.id==e&&(t=n,!0)}),t};return r(t)?(function e(t){var n=r(t);n&&(a.push(n),e(n.pid))}(r(t).pid),a.reverse()):a},getTreeParentsId:function(e,t){return this.getTreeParents(e,t).map(function(e){return e.id})},getTreeChildrens:function(e,t){var n=[];if(e.find(function(e,n){return e.id==t})){!function t(a){e.map(function(e,r){a==e.pid&&(n.push(e),t(e.id))})}(t)}return n},getTreeChildrensId:function(e,t){return this.getTreeChildrens(e,t).map(function(e){return e.id})},getTreeInParents:function(e,t){var n=this.getTreeParents(e,t);return e.some(function(e){return e.id==t&&(n.push(e),!0)}),n},getTreeInParentsId:function(e,t){return this.getTreeInParents(e,t).map(function(e){return e.id})},getTreeNodeById:function(e,t){var n=null;return JSON.parse(o()(e)).some(function(e){return e.id==t&&(n=e,!0)}),n},Flat2TreeDataForCascader:function(e){var t=JSON.parse(o()(e)),n=[];return t.map(function(e){(void 0==e.pid||""==e.pid||e.pid&&0==function(e){var n=[];return t.some(function(t){return t.id==e&&(n.push(t),!0)}),n}(e.pid).length)&&(e.label=e.name,e.value=e.id,e.children=function e(n){var a=[];return t.map(function(t){if(t.pid==n){t.label=t.name,t.value=t.id;var r=e(t.id);r.length>0&&(t.children=r),a.push(t)}}),a}(e.id),n.push(e))}),n},Flat2TreeDataForCascaderLeaf:function(e,t){var n=[],a=[];t?(n=t,a=e):a=this.Flat2TreeDataForCascader(e);for(var r=0;r<a.length;r++){var i=a[r].children;void 0==i||0==i.length?n.push(a[r]):this.Flat2TreeDataForCascaderLeaf(i,n)}return n},dateFormat:function(e,t){var n=void 0,a={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var r in a)(n=new RegExp("("+r+")").exec(t))&&(t=t.replace(n[1],1==n[1].length?a[r]:a[r].padStart(n[1].length,"0")));return t},download:function(e){var t=new XMLHttpRequest;t.responseType="blob",t.open("GET",e.url,!0),t.setRequestHeader("access-token",localStorage.access_token),t.onreadystatechange=function(){4==this.readyState?200==this.status?function(e,t){var n=document.createElement("a");n.download=t,n.style.display="none";var a=new Blob([e],{type:"application/octet-stream"});n.href=URL.createObjectURL(a),document.body.appendChild(n),n.click(),document.body.removeChild(n)}(this.response,e.name):this.responseText:2==this.readyState&&(200==this.status?this.responseType="blob":this.responseType="text")},t.send(null)}}},UUjt:function(e,t){},UjVw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={}},V8px:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"changePwd",props:["value"],components:{},computed:{},data:function(){return{account:{id:"",loginName:"",password:"",newPwd:"",newPwdRep:""},passwordStrength:{text:"非常弱",percent:0,status:"wrong"},ruleValidate:{password:[{required:!0,message:"请输入原始密码",trigger:"blur"}],newPwd:[{required:!0,message:"请输入新密码",trigger:"blur"}],newPwdRep:[{required:!0,message:"请输入确认密码",trigger:"blur"}]}}},methods:{openModal:function(){this.value=!0},submitAsyn:function(){var e=this;this.$ajax.post("/service_user/account/changePwd",{accountId:this.account.id,oldPwd:this.account.password,newPwd:this.account.newPwd}).then(function(t){200==t.data.code?(e.$Message.success("密码修改成功"),e.closeModal()):e.$Message.error(t.data.msg)}).catch(function(e){error.url||console.info(error)})},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.checkPwdSame()&&(t.passwordStrength.percent<60?t.$Modal.confirm({title:"提醒",content:"您的新密码强度较弱，是否提交？",onOk:function(){t.submitAsyn()}}):t.submitAsyn()):t.$Message.error("密码修改表单校验失败!")})},checkPwdSame:function(){return this.account.newPwd==this.account.newPwdRep||(this.$Message.error("确认密码与新密码不一致，请检查后重新输入"),!1)},closeModal:function(){this.value=!1,this.value=!1,this.account.id=null,this.account.password="",this.account.newPwd="",this.account.newPwdRep=""},getUser:function(){var e=this;this.$ajax.post("/service_user/account/getAccountInfo").then(function(t){200==t.data.code&&(e.account.id=t.data.data.id,e.account.loginName=t.data.data.loginName,e.account.password="")},function(){})},checkStrength:function(){var e=this.account.newPwd;e?0==e.length?this.passwordStrength={text:"非常弱",percent:0,status:"wrong"}:e.length<6?this.passwordStrength={text:"非常弱",percent:10,status:"wrong"}:e.match(/^[0-9]{6,20}$|^[a-zA-Z]{6,20}$/)?this.passwordStrength={text:"强度较弱",percent:40,status:"wrong"}:e.match(/^[A-Za-z0-9]{6,20}$/)?this.passwordStrength={text:"强度适中",percent:60,status:"success"}:e.match(/^\w{6,20}$/)&&(this.passwordStrength={text:"密码较强",percent:100,status:"success"}):this.passwordStrength={text:"非常弱",percent:10,status:"wrong"}}},mounted:function(){},created:function(){this.value&&this.getUser()},watch:{value:function(e){e&&this.getUser()},"account.newPwd":function(){this.checkStrength()}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{title:"修改密码",width:"500",closable:!0},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("Form",{ref:"account",attrs:{"label-width":100,model:e.account,rules:e.ruleValidate},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[n("Form-item",{attrs:{label:"原始密码",prop:"password"}},[n("Input",{attrs:{placeholder:"请输入原始密码",type:"password"},model:{value:e.account.password,callback:function(t){e.$set(e.account,"password","string"==typeof t?t.trim():t)},expression:"account.password"}})],1),e._v(" "),n("Form-item",{attrs:{label:"新密码",prop:"newPwd"}},[n("Input",{attrs:{placeholder:"请设置新密码",type:"password"},model:{value:e.account.newPwd,callback:function(t){e.$set(e.account,"newPwd","string"==typeof t?t.trim():t)},expression:"account.newPwd"}})],1),e._v(" "),n("Form-item",{staticStyle:{"margin-bottom":"2px"}},[n("Progress",{attrs:{percent:e.passwordStrength.percent,"stroke-width":5,status:e.passwordStrength.status}},[n("Icon",{directives:[{name:"show",rawName:"v-show",value:e.account.newPwd.length>0,expression:"account.newPwd.length>0"}],attrs:{type:"checkmark-circled"}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.account.newPwd.length>0,expression:"account.newPwd.length>0"}]},[e._v(e._s(e.passwordStrength.text))])],1)],1),e._v(" "),n("Form-item",{attrs:{label:"确认密码",prop:"newPwdRep"}},[n("Input",{attrs:{placeholder:"请再次输入新密码",type:"password"},model:{value:e.account.newPwdRep,callback:function(t){e.$set(e.account,"newPwdRep","string"==typeof t?t.trim():t)},expression:"account.newPwdRep"}})],1)],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"ivu-btn ivu-btn-primary",attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("account")}}},[e._v("保存")]),e._v(" "),n("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(t){return e.closeModal()}}},[e._v("关闭")])],1)],1)},staticRenderFns:[]};var i=n("C7Lr")(a,r,!1,function(e){n("DyCH")},"data-v-dc8c6ae8",null);t.default=i.exports},"X/k0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("3cXf"),r=n.n(a),i={components:{webuploader:n("exfD").default},data:function(){return{loading:!1,option:{accept:{title:"Images",extensions:"jpg,jpeg,png",mimeTypes:"image/jpg, image/jpeg, image/png"},fileSingleSizeLimit:10485760,fileNumLimit:100,formData:{moudleName:"human"},beforeFileQueued:this.beforeFileQueued},uploadimgurl:null,type:"view",showModal:!1,id:"",orgModelIds:[],orgModelTree:[],orgModelTreeData:[],userTeamList:[],secretLevelList:[],user:{},ruleValidate:{jobNumber:[{required:!0,message:"请输入工号",trigger:"blur"},{validator:function(e,t,n){/^[a-zA-Z0-9_]+$/.test(t)?n():n(new Error("工号由字母/数字/下划线组成！"))},trigger:"blur"},{validator:this.checkCode,trigger:"blur"}],userName:[{required:!0,message:"请输入姓名",trigger:"blur"}],orgId:[{required:!0,validator:this.checkOrgId,trigger:"change"}],userPhone:[{required:!0,message:"手机号不能为空",trigger:"blur"},{type:"string",pattern:/^((0\d{2,3}-\d{7,8})|(1[358479]\d{9}))$/,message:"请输入有效的手机号码",trigger:"blur"}],loginName:[{validator:this.checkLoginName,trigger:"blur"}],cardId:[{validator:this.checkCardId,trigger:"blur"}],email:[{validator:this.checkEmail,trigger:"blur"}]},limitCardDate:{disabledDate:function(e){return e&&e.valueOf()>Date.now()}}}},methods:{checkOrgId:function(e,t,n){0==this.orgModelIds.length?n("请选择组织机构"):n()},checkCode:function(e,t,n){this.$ajax.post("/service_user/human/check",{jobNumber:t,id:this.id}).then(function(e){"200"==e.data.code&&(e.data.data?n():n("此工号已存在"))}).catch(function(){n("校验失败")})},checkLoginName:function(e,t,n){t?this.$ajax.post("/service_user/human/check",{loginName:t,id:this.id}).then(function(e){"200"==e.data.code&&(e.data.data?n():n("此工号已存在"))}).catch(function(){n("校验失败")}):n()},checkCardId:function(e,t,n){t?this.$ajax.post("/service_user/human/check",{cardId:t,id:this.id}).then(function(e){"200"==e.data.code&&(e.data.data?n():n("此工号已存在"))}).catch(function(){n("校验失败")}):n()},checkEmail:function(e,t,n){t?this.$ajax.post("/service_user/human/check",{email:t,id:this.id}).then(function(e){"200"==e.data.code&&(e.data.data?n():n("此工号已存在"))}).catch(function(){n("校验失败")}):n()},checkPhoneIsExist:function(e,t,n){t?this.$ajax.post("/service_user/human/check",{userPhone:t,id:this.id}).then(function(e){"200"==e.data.code&&(e.data.data?n():n("此手机号已存在"))}).catch(function(){n("校验失败")}):n()},handleSubmit:function(e){var t=this;if(this.loading)return!1;this.loading=!0,this.$refs.user.validate(function(e){e?0==t.$refs.webuploader.uploader.getFiles().length?t.saveUser():t.upload():(t.$Message.error("个人信息表单校验失败!"),t.loading=!1)})},saveUser:function(){var e=this;this.user.orgId=this.orgModelIds[this.orgModelIds.length-1],this.user.birthday&&new Date(this.user.birthday).Format("yyyy-MM-dd"),this.userTeamList.map(function(t,n){t.id==e.user.teamId&&(e.user.teamCode=t.teamCode,e.user.teamName=t.teamName)}),this.loading=!0,this.$ajax.post("/service_user/human/save",{data:r()(this.user)}).then(function(t){200==t.data.code?(e.$Message.success("保存成功"),e.$refs.user.resetFields(),e.beforeFileQueued(),e.$router.push("/user/list")):e.$Message.error("保存失败"),e.loading=!1}).catch(function(e){e.url||console.info(e)})},openDialog:function(){this.$refs.webuploader.open_dialog()},beforeFileQueued:function(){var e=this;this.$refs.webuploader.uploader.getFiles().map(function(t,n){e.$refs.webuploader.uploader.removeFile(t)})},fileQueued:function(e){var t=this;this.$refs.webuploader.uploader.makeThumb(e.file,function(e,n){e||(t.uploadimgurl=n)},1,1)},upload:function(){this.$refs.webuploader.upload()},uploadFinished:function(){this.saveUser()},uploadSuccess:function(e){this.user.photo=e.response.data.id},removeFile:function(e){null!=e.file.id&&(this.user.photo="")},getUserInfoByTkId:function(){var e=this;this.$ajax.post("/service_user/human/getUserInfo").then(function(t){if(200===t.data.code){if(e.user=t.data.data,null==e.user)return void e.$Message.warning("当前员工不存在,请检查员工工号");e.id=e.user.id;var n=[];"update"==e.type&&(n=e.$utils.getTreeInParentsId(e.orgModelTreeData,e.user.orgId)),e.$nextTick(function(){e.orgModelIds=n}),e.user.photo&&(e.uploadimgurl="/service_file/show?fileId="+e.user.photo),e.secretLevelList.map(function(t,n){t.id==e.user.secretLevelNo&&(e.user.secretLevelName=t.textName)})}})},toUpdateForm:function(){this.type="update",this.getUserInfoByTkId()},getOrgTree:function(){var e=this;this.$ajax.post("/service_user/organization/getOrgTreeById").then(function(t){e.orgModelTreeData=t.data.data,e.orgModelTree=e.$utils.Flat2TreeDataForCascader(t.data.data),e.getUserInfoByTkId()}).catch(function(e){e.url||console.info(e),reject()})},openModal:function(){this.showModal=!0},loadUserTeam:function(e){var t=this;e="";this.orgModelIds.length>0&&(e=this.orgModelIds[this.orgModelIds.length-1]),this.$ajax.post("/service_user/teamInfo/findByDeptId",{deptId:e}).then(function(e){200==e.data.code&&(t.userTeamList=e.data.data)}).catch(function(e){e.url||console.info(e)})},getSecretList:function(){var e=this;this.$ajax.post("/service_user/sysData/findByTypeCode",{dataTypeCode:"USER_SECRET"}).then(function(t){200==t.data.code&&(e.secretLevelList=t.data.data)}).catch(function(e){e.url||console.info(e)})}},created:function(){},watch:{showModal:function(e){e&&(this.getOrgTree(),this.getSecretList())}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{title:"个人信息",draggable:!1},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[n("Form",{ref:"user",class:{"form-view":"view"==e.type},attrs:{model:e.user,rules:e.ruleValidate,"label-width":108,inline:""}},[n("Card",[n("h2",{attrs:{slot:"title"},slot:"title"},[e._v("基本信息")]),e._v(" "),"view"==e.type?n("div",{staticStyle:{float:"right","text-align":"left",width:"400px"}},[e.user.photo?n("img",{staticStyle:{width:"130px"},attrs:{src:e.$utils.getFileShowUrl(e.user.photo)}}):n("img",{staticStyle:{width:"130px"},attrs:{src:"static/images/header/default-photo.jpg"}})]):e._e(),e._v(" "),"view"!=e.type?n("div",{staticStyle:{float:"right","text-align":"left","min-height":"130px",width:"400px"}},[n("span",{staticStyle:{cursor:"pointer","text-align":"center"},attrs:{title:"点击更换头像"},on:{click:e.openDialog}},[e.uploadimgurl?n("img",{staticStyle:{width:"110px"},attrs:{src:e.uploadimgurl}}):n("img",{staticStyle:{width:"130px"},attrs:{src:"static/images/header/default-photo.jpg"}})]),e._v(" "),n("webuploader",{ref:"webuploader",staticStyle:{display:"none"},attrs:{option:e.option},on:{fileQueued:e.fileQueued,deleteFile:e.removeFile,uploadSuccess:e.uploadSuccess,uploadFinished:e.uploadFinished}})],1):e._e(),e._v(" "),n("FormItem",{attrs:{label:"工号",prop:"jobNumber"}},["view"==e.type?[e._v(e._s(e.user.jobNumber))]:n("Input",{attrs:{maxlength:"50",placeholder:"请输入工号，最多不超过50个字符"},model:{value:e.user.jobNumber,callback:function(t){e.$set(e.user,"jobNumber",t)},expression:"user.jobNumber"}})],2),e._v(" "),n("FormItem",{attrs:{label:"姓名",prop:"userName"}},["view"==e.type?[e._v(e._s(e.user.userName))]:n("Input",{attrs:{maxlength:"50",placeholder:"请输入姓名，最多不超过50个字符"},model:{value:e.user.userName,callback:function(t){e.$set(e.user,"userName",t)},expression:"user.userName"}})],2),e._v(" "),n("FormItem",{attrs:{label:"性别",prop:"sex"}},["view"==e.type?[e._v(e._s(e.user.sex))]:n("RadioGroup",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[n("Radio",{attrs:{label:"男",checked:""}}),e._v(" "),n("Radio",{attrs:{label:"女"}})],1)],2),e._v(" "),n("FormItem",{attrs:{label:"身份证号",prop:"cardID"}},["view"==e.type?[e._v(e._s(e.user.cardID))]:n("Input",{attrs:{maxlength:"18",placeholder:"请输入身份证号，确保18位字符"},model:{value:e.user.cardID,callback:function(t){e.$set(e.user,"cardID",t)},expression:"user.cardID"}})],2),e._v(" "),n("FormItem",{attrs:{label:"手机号",prop:"userPhone"}},["view"==e.type?[e._v(e._s(e.user.userPhone))]:n("Input",{attrs:{maxlength:"11",placeholder:"请输入手机号，不超过11个字符"},model:{value:e.user.userPhone,callback:function(t){e.$set(e.user,"userPhone",t)},expression:"user.userPhone"}})],2),e._v(" "),n("FormItem",{attrs:{label:"邮箱",prop:"email"}},["view"==e.type?[e._v(e._s(e.user.email))]:n("Input",{attrs:{maxlength:"30",placeholder:"请输入邮箱"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],2),e._v(" "),1==e.user.isAccount?n("Form-item",{attrs:{label:"自定义登录账户",prop:"loginName"}},["view"==e.type?[e._v(e._s(e.user.loginName))]:n("Input",{attrs:{maxlength:"20",placeholder:"请输入自定义用户名"},model:{value:e.user.loginName,callback:function(t){e.$set(e.user,"loginName",t)},expression:"user.loginName"}})],2):e._e(),e._v(" "),n("FormItem",{attrs:{label:"出生日期",prop:"birthday"}},["view"==e.type?[e._v(e._s(e.user.birthday?new Date(e.user.birthday).Format("yyyy-MM-dd"):""))]:n("DatePicker",{attrs:{type:"date",placeholder:"请选择出生日期",options:e.limitCardDate},model:{value:e.user.birthday,callback:function(t){e.$set(e.user,"birthday",t)},expression:"user.birthday"}})],2),e._v(" "),n("FormItem",{attrs:{label:"当前主职部门",prop:"orgId"}},["view"==e.type?[e._v(e._s(e.user.orgName))]:n("Cascader",{attrs:{data:e.orgModelTree,placeholder:"请选择主职部门","change-on-select":"",clearable:"",filterable:""},model:{value:e.orgModelIds,callback:function(t){e.orgModelIds=t},expression:"orgModelIds"}})],2),e._v(" "),n("Form-item",{attrs:{label:"所属班组",prop:"teamId"}},["view"==e.type?[e._v(e._s(e.user.teamName))]:n("Select",{on:{"on-open-change":e.loadUserTeam},model:{value:e.user.teamId,callback:function(t){e.$set(e.user,"teamId",t)},expression:"user.teamId"}},e._l(e.userTeamList,function(t){return n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.teamName))])}),1)],2),e._v(" "),n("Form-item",{attrs:{label:"是否班组长",prop:"monitorMark"}},["view"==e.type?[e._v(e._s(1==e.user.monitorMark?"是":"否"))]:n("RadioGroup",{model:{value:e.user.monitorMark,callback:function(t){e.$set(e.user,"monitorMark",t)},expression:"user.monitorMark"}},[n("Radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),n("Radio",{attrs:{label:0}},[e._v("否")])],1)],2),e._v(" "),n("Form-item",{attrs:{label:"人员密级",prop:"secretLevelNo"}},["view"==e.type?[e._v(e._s(e.user.secretLevelName))]:n("Select",{attrs:{clearable:"",filterable:""},model:{value:e.user.secretLevelNo,callback:function(t){e.$set(e.user,"secretLevelNo",t)},expression:"user.secretLevelNo"}},e._l(e.secretLevelList,function(t){return n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.textName))])}),1)],2)],1)],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},["view"==e.type?n("Button",{attrs:{type:"success"},on:{click:function(t){return e.toUpdateForm()}}},[e._v("编辑")]):e._e(),e._v(" "),"view"!=e.type?n("Button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.handleSubmit("user")}}},[e._v("保存")]):e._e(),e._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(t){e.showModal=!1,e.type="view"}}},[e._v("关闭")])],1)],1)},staticRenderFns:[]};var s=n("C7Lr")(i,o,!1,function(e){n("S4H7")},"data-v-cffdd93e",null);t.default=s.exports},"X/r6":function(e,t){},YaEn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var a=n("lCBK"),r=n("cvLt"),i=n("lRwf"),o=n("pRNm");i.use(o);var s=new o({base:e,mode:"hash",routes:a.default.map(function(e,t){return function e(t){return t.path||(t.params?t.path=t.name+"/:"+t.params.split(",").join("/:"):t.path=t.name),t.children&&t.children.length>0&&(t.children=t.children.map(function(t,n){return e(t)})),t.component||(t.component=function(e){var a=t.package||"views"+t.name+".vue";Promise.all([n.e(3),n.e(0)]).then(function(){var t=[n("+gN6")("./"+a)];e.apply(null,t)}.bind(this)).catch(n.oe)}),t}(e)})});s.beforeEach(function(e,t,n){s.app&&s.app.$Loading.start();var a=Object(r.default)(e);a?n(a):n()}),s.afterEach(function(e){s.app&&s.app.$Loading.finish()}),t.default=s}.call(t,"/")},ZTMw:function(e,t){},aSOO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"/account/list",package:"views/system/account/list"},{name:"/module/list",package:"views/system/moudle/list",meta:{keepAlive:!0}},{name:"/role/list",package:"views/system/role/list"},{name:"/role/roleToAuthority",params:"id",package:"views/system/role/roleToAuthority"},{name:"/sysInfo/list",package:"views/system/sysInfo/list"},{name:"/busiOpsLog/list",package:"views/log/busiOpsLog/list"},{name:"/organization/list",package:"views/human/organization/list"},{name:"/user/list",package:"views/human/userInfo/list"},{name:"/user/create",package:"views/human/userInfo/cur"},{name:"/user/view",params:"id,type",package:"views/human/userInfo/cur"},{name:"/user/update",params:"id,type",package:"views/human/userInfo/cur"},{name:"/user/viewRoleAuthority",params:"id",package:"views/human/userInfo/roleToAuthorityView"},{name:"/position/list",package:"views/human/position/list"},{name:"/post/list",package:"views/human/post/list"},{name:"/profession/list",package:"views/human/profession/list"},{name:"/teamInfo/list",package:"views/human/team/list"},{name:"/teamMember/list",params:"id",package:"views/human/team/member/list"},{name:"/sysData/list",package:"views/sysdata/sysData/list"},{name:"/sysDataType/list",package:"views/sysdata/sysDataType/list"},{name:"/sysIpFilter/list",package:"views/sysdata/sysIpFilter/list"},{name:"/sysVar/list",package:"views/sysdata/sysVariable/list"},{name:"/secrecyLevel/list",package:"views/sysdata/secrecyLevel/list"}]},cJ5R:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"menuList",props:{list:Array},data:function(){return{}},computed:{},methods:{}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.list&&e.list.length>0?n("div",[e._l(e.list,function(t){return[t.children&&t.children.length>0?n("Submenu",{key:t.id,attrs:{name:t.id}},[[n("i",{class:t.icon+" fa-fw",attrs:{slot:"icon"},slot:"icon"}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])],e._v(" "),n("menuList",{key:t.id,attrs:{list:t.children}})],2):n("MenuItem",{key:t.id,attrs:{name:t.url,title:t.name+" "+t.url}},[n("i",{class:t.icon+" fa-fw",attrs:{slot:"icon"},slot:"icon"}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])]})],2):e._e()},staticRenderFns:[]},i=n("C7Lr")(a,r,!1,null,null,null);t.default=i.exports},cvLt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("2uFj"),r=n("IcnI");t.default=function(e){var t=null;if(a.default.authority.router&&r.default.state.auth.checkReady&&-1==a.default.authority.whiteRouterList.indexOf(e.name)&&!e.name.match("/_"))if(0==r.default.state.auth.sysMenuData.length)t={path:"/000"};else{var n=r.default.state.auth.sysMenuMap[e.name];n||(n=r.default.state.auth.sysMenuMap[e.path]),n||(t={path:"/403",query:{from:e.fullPath}})}return t}},cyFc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("cJ5R"),r=n("qKYu"),i={name:"pagemenu",components:{menuList:a.default},props:["theme","collapsed"],data:function(){return{selectMenu:0,showSysMenu:!1,openNames:[],activeName:""}},computed:{sysMenuData:function(){return this.$store.state.auth.sysMenuData},sysMenuDataOriginal:function(){return this.$store.state.auth.sysMenuDataOriginal},sideMenuData:function(){var e=this;return void 0!=this.$store.state.auth.mainMenuId?this.sysMenuData.find(function(t){return t.id===e.$store.state.auth.mainMenuId}):null}},methods:{showSubPage:function(e){e&&this.$router.push({path:e})},setOpenNames:function(){var e=this,t=this.sysMenuDataOriginal.filter(function(t){var n=!1;return t.isOperation?t.url&&(n=t.url.split(";").some(function(t,n){return t==e.$route.name})):n=t.url==e.$route.name,n});if(t.length>0){var n=this.$utils.getTreeParentsId(this.sysMenuDataOriginal,t[0].id);this.openNames=n}else this.openNames=[]},setActiveName:function(){var e=this,t=this.sysMenuDataOriginal.filter(function(t){var n=!1;return t.isOperation?t.url&&(n=t.url.split(";").some(function(t,n){return t==e.$route.name})):n=t.url==e.$route.name,n});this.activeName=t.length>0?t[0].isOperation||!t[0].isDisplay?this.getParentUrl(t[0].pid):t[0].url:this.$route.path},getParentUrl:function(e){var t="";return this.sysMenuDataOriginal.some(function(n){if(n.id==e)return t=n.url,!0}),t},resetNames:function(){var e=this;this.setOpenNames(),this.setActiveName(),this.$nextTick(function(){e.$refs.submenu&&(e.$refs.submenu.updateOpened(),e.$refs.submenu.updateActiveName()),e.$nextTick(function(){r.default.$emit("menuLoaded")})})}},created:function(){},mounted:function(){this.resetNames()},watch:{sideMenuData:{immediate:!0,handler:function(){this.resetNames()}},$route:function(){this.resetNames()}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Menu",{ref:"submenu",attrs:{collapse:e.collapsed,theme:e.theme,"active-name":e.activeName,width:"auto","open-names":e.openNames,accordion:""},on:{"on-select":e.showSubPage}},[e.sideMenuData?n("MenuGroup",{attrs:{title:e.sideMenuData.name}},[n("menu-list",{attrs:{list:e.sideMenuData.children}})],1):e._e()],1)},staticRenderFns:[]};var s=n("C7Lr")(i,o,!1,function(e){n("k61T")},"data-v-f2a44812",null);t.default=s.exports},exfD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("aA9S"),r=n.n(a),i=n("a3Yh"),o=n.n(i),s=(n("2uFj"),n("TVG1")),u=null,c="",l={};WebUploader.Uploader.register({"before-send-file":"beforeSendFile"},{beforeSendFile:function(e,t,n){var a=WebUploader.Deferred();return u.isNeedCheck?(new WebUploader.Uploader).md5File(e,0,10485760).then(function(t){u?u.checkFile({MD5:t,userName:u.userInfo.phone,filename:e.name,moudleName:u.uploader.options.formData.moudleName,size:e.size},function(n,r){n?(l=r,u.uploader.skipFile(e)):c=t,a.resolve()}):a.resolve()}):setTimeout(function(){a.resolve()},0),a.promise()}});var d={name:"webuploader",props:["option","webUploaderId"],data:function(){var e;return{picker:null,uploader:null,btnText:"上传文件",fileList:[],modal_view:!1,modaldata:{src:null,title:""},isError:!1,userInfo:{},icons:(e={".doc":"fa-file-word-o",".docx":"fa-file-word-o",".xls":"fa-file-excel-o",".xlsx":"fa-file-excel-o",image:"fa-file-photo-o",".jpg":"fa-file-photo-o",".png":"fa-file-photo-o",".bmp":"fa-picture-o",".pdf":"fa-file-pdf-o",".zip":"fa-file-archive-o",".rar":"fa-file-archive-o"},o()(e,".rar","fa-file-archive-o"),o()(e,".mp4","fa-file-movie-o"),o()(e,".rmvb","fa-file-movie-o"),o()(e,".mp3","fa-file-sound-o"),o()(e,".wav","fa-file-sound-o"),o()(e,".amr","fa-file-sound-o"),e)}},computed:{types:function(){return this.option.type||"drag"},deleteDefaultFile:function(){return this.option.deleteDefaultFile||!1},showFileList:function(){return void 0==this.option.showFileList||this.option.showFileList},isNeedCheck:function(){return void 0===this.option.server||"/service_file/upload"===this.option.server||"/service_file/zip"===this.option.server},buttonType:function(){return this.option.buttonType||"primary"}},methods:{getIcon:function(e){var t=e.type.toLowerCase(),n=this.icons[t],a="fa-file";if(n)a=n;else if(e.name){var r=e.name.split("."),i=r[r.length-1];if(i){var o=this.icons["."+i];o&&(a=o)}}return a},getDownloadUrl:function(e){return s.default.getFileDownloadUrl(e.id)},showServerFile:function(e){var t=s.default.getFileShowUrl(e.id);if(e.type&&e.type.match("image")||e.name&&e.name.match(".pdf")||e.name&&e.name.match(".doc")||e.name&&e.name.match(".docx")||e.name&&e.name.match(".xls")||e.name&&e.name.match(".xlsx")||e.name&&e.name.match(".ppt")||e.name&&e.name.match(".pptx"))this.modal_view=!0,this.modaldata.title=e.name,this.modaldata.src=t;else{this.$Modal.confirm({title:"温馨提醒",content:e.name+"<br/>不支持在线预览，是否下载查看？",onOk:function(){window.open(t)}})}},open_dialog:function(){$(this.picker).find("input").click()},addDefaultFile:function(e){var t=this;e.map(function(e,n){e.isServerFile=!0,e.percentage=1,t.fileList.push(e)})},upload:function(){this.isError?this.retry():this.uploader.upload()},retry:function(e){this.uploader.retry(e)},getFile:function(e){return this.uploader.getFile(e)},getFiles:function(){return this.uploader.getFiles()},_initWebuploader:function(){this.uploader=WebUploader.create(r()({swf:"@/assets/js/webuploader/Uploader.swf",auto:!1,server:"/service_file/upload",resize:!1,pick:this.picker,dnd:"drag"==this.types?this.$refs.uploaddrag:void 0,disableGlobalDnd:!0,accept:null,duplicate:!0,fileSingleSizeLimit:10485760},this.option)),this.option.btnText&&(this.btnText=this.option.btnText)},deleteFile:function(e){var t=this;this.fileList.some(function(n,a){return n.id==e&&(t.$emit("deleteFile",{file:n,webUploaderId:t.webUploaderId}),t.fileList.splice(a,1),n.isServerFile||t.uploader.removeFile(e,!0),!0)})},makethumb:function(e){var t=this;this.modal_view=!0,this.modaldata.title=e.name,e.isServerFile?this.modaldata.src=e.src:(this.modaldata.src=null,this.uploader.makeThumb(e,function(e,n){t.modaldata.src=n},1,1))},checkFile:function(e,t){this.$ajax.post("/service_file/getFileByMD5",e).then(function(e){200===e.data.code?t(!0,e.data):t(!1)},function(){t(!1)})},checkFileFast:function(e,t){this.$ajax.post("/service_file/getFileByMD5NoSave",e).then(function(e){200===e.data.code?t(!0):t(!1)},function(){t(!1)})},_addEvent:function(){var e=this,t=this.webUploaderId;this.uploader.on("ready",function(){e.$emit("ready",{webUploaderId:t})}),this.uploader.on("beforeFileQueued",function(t){return!(e.fileList.length>=e.uploader.options.fileNumLimit)||(e.$Message.warning("文件数量超出不能超过"+e.uploader.options.fileNumLimit+"个"),!1)}),this.uploader.on("beforeFileQueued",function(n){if("function"==typeof e.option.beforeFileQueued)return e.option.beforeFileQueued({file:n,webUploaderId:t})}),this.uploader.on("fileQueued",function(n){n.percentage=0,e.fileList.push(n),e.$emit("fileQueued",{file:n,webUploaderId:t}),e.isNeedCheck&&e.uploader.md5File(n).then(function(t){e.fileList.some(function(a,r){return a.id==n.id&&(a.md5=t,e.checkFileFast({MD5:t},function(t){a.isFastUpload=t,e.fileList.splice(r,1,a)}),!0)})})}),this.uploader.on("uploadStart",function(n){e.$emit("uploadStart",{file:n,webUploaderId:t})}),this.uploader.on("reset",function(){e.fileList=[],e.$emit("reset",{webUploaderId:t})}),this.uploader.on("uploadAccept",function(n,a){return"function"==typeof e.option.uploadAccept?e.option.uploadAccept({object:n,response:a,webUploaderId:t}):200==a.code}),this.uploader.on("uploadProgress",function(n,a){e.fileList.some(function(t,r){return t.id==n.id&&(t.percentage=a,e.fileList.splice(r,1,t),!0)}),e.$emit("uploadProgress",{file:n,percentage:a,webUploaderId:t})}),this.uploader.on("uploadSuccess",function(n,a){e.fileList.some(function(t,a){return t.id==n.id&&(t.percentage=1,e.fileList.splice(a,1,t),!0)}),a||(a=l),e.$emit("uploadSuccess",{file:n,response:a,webUploaderId:t})}),this.uploader.on("uploadError",function(n,a){e.$emit("uploadError",{file:n,reason:a,webUploaderId:t}),e.fileList.filter(function(t,a){return t.id==n.id&&(t.percentage=0,e.fileList.splice(a,1,t),!0)})}),this.uploader.on("uploadBeforeSend",function(n,a,r){a.userName=e.userInfo.phone,a.MD5=c,r["access-token"]=localStorage.access_token,e.$emit("uploadBeforeSend",{object:n,data:a,headers:r,webUploaderId:t})}),this.uploader.on("uploadFinished",function(n,a){e.isError=0==e.uploader.getFiles("error").length,e.$emit("uploadFinished",{error:!e.isError,fileCount:e.uploader.getFiles().length,webUploaderId:t})}),this.uploader.on("startUpload",function(){e.$emit("startUpload",{webUploaderId:t})}),this.uploader.on("stopUpload",function(){e.$emit("stopUpload",{webUploaderId:t})}),this.uploader.on("error",function(n){switch(n){case"F_EXCEED_SIZE":e.$Message.warning("请选择小于"+e.uploader.options.fileSingleSizeLimit/1024/1024+"Mb的文件");break;case"Q_EXCEED_NUM_LIMIT":e.$Message.warning("文件数量超出不能超过"+e.uploader.options.fileNumLimit+"个");break;case"Q_TYPE_DENIED":e.$Message.warning("请选择"+e.uploader.options.accept[0].extensions+"文件")}e.$emit("error",{type:n,webUploaderId:t})})}},mounted:function(){var e=this,t=1e3*Math.random();setTimeout(function(){e.picker=e.$refs.picker,e._initWebuploader(),e._addEvent()},t)},beforeDestroy:function(){this.uploader&&this.uploader.destroy()},created:function(){u=this;try{this.userInfo=JSON.parse(localStorage.userInfo)}catch(e){}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"picker",staticStyle:{display:"none"}},[e._v("选择文件")]),e._v(" "),n("div",["drag"==e.types?n("div",{ref:"uploaddrag",staticClass:"ivu-upload ivu-upload-drag",on:{click:e.open_dialog}},[n("div",{staticStyle:{padding:"10px 0px"}},[n("i",{staticClass:"ivu-icon ivu-icon-ios-cloud-upload",staticStyle:{"font-size":"52px",color:"rgb(51, 153, 255)"}}),e._v(" "),n("p",[e._v("点击此处或者拖入文件进行上传")]),e._v(" "),n("div",{staticStyle:{"font-size":"12px","margin-top":"5px",color:"#4c99e6"}},[e._t("text")],2)])]):n("div",{staticClass:"ivu-upload ivu-upload-select",staticStyle:{display:"inline-block"}},[n("button",{staticClass:"ivu-btn",class:"ivu-btn-"+e.buttonType,attrs:{type:"button"},on:{click:e.open_dialog}},[n("i",{staticClass:"fa fa-fw fa-upload"}),e._v(" "),n("span",[e._v(e._s(e.btnText))])]),e._v(" "),e._t("btntext"),e._v(" "),e.$slots.text?n("div",{staticStyle:{"font-size":"12px","margin-top":"10px",color:"#555"}},[e._t("text")],2):e._e()],2)]),e._v(" "),e.showFileList&&e.fileList.length>0?n("ul",{staticClass:"ivu-upload-list"},e._l(e.fileList,function(t){return n("li",{key:t.id,staticClass:"ivu-upload-list-file ivu-upload-list-file-finish"},[n("span",[n("i",{staticClass:"fa fa-fw",class:e.getIcon(t),staticStyle:{margin:"0 5px",color:"#696969"}}),e._v(" "),n("span",[e._v(e._s(t.name))]),e._v(" "),t.isFastUpload?n("i",{staticClass:"fa-fw fa fa-bolt",staticStyle:{color:"#2D8CF0"},attrs:{title:"支持极速上传"}}):e._e()]),e._v(" "),t.type&&t.type.match("image")?n("span",{staticStyle:{"font-size":"14px","margin-left":"5px",display:"inline-block","vertical-align":"middle"},on:{click:function(n){return e.makethumb(t)}}},[n("Icon",{staticStyle:{color:"#2d8cf0"},attrs:{type:"ios-eye"}})],1):t.isServerFile?n("span",{staticStyle:{"margin-left":"10px"},attrs:{title:"预览文件"},on:{click:function(n){return e.showServerFile(t)}}},[n("Icon",{staticStyle:{color:"#2d8cf0"},attrs:{type:"ios-eye"}})],1):e._e(),e._v(" "),t.isServerFile?n("a",{staticStyle:{"margin-left":"10px"},attrs:{href:e.getDownloadUrl(t),target:"_blank",title:"下载文件"}},[n("span",[n("Icon",{attrs:{type:"md-download"}})],1)]):e._e(),e._v(" "),n("i",{staticClass:"ivu-icon ivu-icon-ios-close ivu-upload-list-remove",on:{click:function(n){return e.deleteFile(t.id)}}}),e._v(" "),n("Progress",{attrs:{percent:100*t.percentage,"stroke-width":5}},[t.percentage>=1?[n("Icon",{attrs:{type:"checkmark-circled"}}),e._v(" "),n("span",[e._v("成功")])]:0==t.percentage?[n("Icon",{attrs:{type:"ios-cloud-upload-outline"}}),e._v(" "),n("span",[e._v("待上传")])]:[n("Icon",{attrs:{type:"ios-loop"}}),e._v(" "),n("span",[e._v("上传中")])]],2)],1)}),0):e._e(),e._v(" "),n("Modal",{attrs:{title:e.modaldata.title,width:"70%",draggable:!1},model:{value:e.modal_view,callback:function(t){e.modal_view=t},expression:"modal_view"}},[n("div",{staticStyle:{"text-align":"center"}},[e.modaldata.src?n("iframe",{staticStyle:{width:"100%",height:"600px"},attrs:{src:e.modaldata.src,frameborder:"0"}}):n("i",{staticClass:"fa fa-circle-o-notch fa-spin",staticStyle:{color:"#ccc","font-size":"50px"},attrs:{"aria-hidden":"true"}})]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"})])],1)},staticRenderFns:[]};var p=n("C7Lr")(d,f,!1,function(e){n("pNVw")},null,null);t.default=p.exports},h6tB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{name:"/home",component:function(e){return Promise.all([n.e(4),n.e(0)]).then(function(){var t=[n("KR8f")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{hidemenu:!0}},{name:"/dataease",params:"linkId",component:function(e){return n.e(0).then(function(){var t=[n("Fsho")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{hidemenu:!0}},{name:"/asamBI",params:"linkId",component:function(e){return n.e(0).then(function(){var t=[n("Fsho")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{hidemenu:!0}},{name:"/jmreport",params:"linkId",component:function(e){return n.e(2).then(function(){var t=[n("Zb/I")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{hidemenu:!0}},{name:"/asamReport",params:"linkId",component:function(e){return n.e(2).then(function(){var t=[n("Zb/I")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{hidemenu:!0}}]},k61T:function(e,t){},kyiS:function(e,t,n){var a={"./business.js":"aSOO","./sys.js":"h6tB"};function r(e){return n(i(e))}function i(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="kyiS"},lCBK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("6xOv"),r=function(e){return n.e(1).then(function(){var t=[n("XtSv")];e.apply(null,t)}.bind(this)).catch(n.oe)},i=n("kyiS"),o=i.keys().reduce(function(e,t){var n=i(t);return e=e.concat(n.default)},[]);o=o.concat([{name:"/403",component:r},{name:"/500",component:r},{name:"/404",component:r},{name:"/000",component:r},{name:"/",component:r,redirect:"/account/list"},{name:"*",component:r,redirect:"/404"}]);var s=[{path:"/",name:"/",component:a.default,children:o,redirect:"/account/list"}];t.default=s},lRwf:function(e,t){e.exports=Vue},lmwW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("lRwf"),r=n.n(a),i=n("IcnI"),o=n("2uFj"),s=n("qKYu"),u=function(e,t,n){if(i.default.state.auth.checkReady){var a=t.value,r=i.default.state.auth.sysMenuMap[_asam_vmInstance.$route.name];if(r)!r.allow.some(function(e){return a==e})&&e.parentNode?e.parentNode.removeChild(e):$(e).removeClass("operationauthority-hide");else e.parentNode&&e.parentNode.removeChild(e)}};r.a.directive("allow",{inserted:function(e,t,n){!function(e,t,n){var a=t.value;o.default.authority.button&&-1==["allowsearch","allowreset"].indexOf(a)&&(i.default.state.auth.checkReady?u(e,t):($(e).addClass("operationauthority-hide"),s.default.$once("authCheckReady",function(){u(e,t)})))}(e,t)}})},lyUr:function(e,t){},mgP0:function(e,t){},n0JV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("2uFj");var a={name:"page-title",data:function(){return{}},computed:{netDebugHtml:function(){return config.netDebug.html?"本页面首次加载用时"+this.$route.meta.useTime+"s 本次加载用时"+this.$route.meta.curuseTime+"s":""},sysMenuDataOriginal:function(){return this.$store.state.auth.sysMenuDataOriginal},html:function(){var e=this.$store.state.auth.sysMenuMap[this.$route.name];if(e){var t=this.$utils.getTreeInParents(this.sysMenuDataOriginal,e.id).map(function(e){return e.name});return t.join('<span class="splitline">/</span>')}return this.$slots.default&&1==this.$slots.default.length?this.$slots.default[0].text:""}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-title"},[n("Icon",{attrs:{type:"md-paper-plane"}}),e._v("当前位置：\n    "),n("span",{staticStyle:{"font-weight":"bold",cursor:"pointer"},attrs:{title:"回到首页"},on:{click:function(t){return e.$router.push("/home")}}},[e._v("\n        首页\n    ")]),e._v(" "),n("span",{staticClass:"splitline"},[e._v("/")]),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.html)}})],1)},staticRenderFns:[]};var i=n("C7Lr")(a,r,!1,function(e){n("UUjt")},"data-v-c6cb59c8",null);t.default=i.exports},pNVw:function(e,t){},pRNm:function(e,t){e.exports=VueRouter},qKYu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("lRwf");t.default=new a({name:"bus",data:function(){return{}}})},t5DY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getSecrecyLevelList",function(){return r});var a=n("/Chq"),r=function(e){return a.default.post("/service_user/secrecyLevel/findAllValid")}},"w+hY":function(e,t,n){var a={"./auth.js":"D+VX","./commondata.js":"KzXw","./theme.js":"P0Ti"};function r(e){return n(i(e))}function i(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="w+hY"},xaFo:function(e,t){e.exports=iview}},["NHnr"]);