webpackJsonp([2],{"Zb/I":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={name:"asamReport",data:function(){return{src:"",isLoading:!0,error:!1}},computed:{hasNav:function(){return"1"==this.$route.query.showNav&&"/home"!=this.$route.path},allowAsamReportUrl:function(){var t=null,s=this.$store.state.auth.sysMenuMap[this.$route.path];return s&&s.allow?s.allow.some(function(s){return s.match("/asamReport/")?(t=s.replace("/asamReport/",""),!0):!!s.match("/jmreport/")&&(t=s.replace("/jmreport/",""),!0)}):t=null,t}},methods:{setUrl:function(){this.error=!1,this.isLoading=!0;var t=window.location.origin+"/asamReport";_sysBaseConf&&_sysBaseConf.sysBaseUrl&&(t=_sysBaseConf.sysBaseUrl+"/asamReport"),this.$route.params&&this.$route.params.linkId?this.src=t+"/shareView/"+this.$route.params.linkId:this.allowAsamReportUrl?this.src=t+"/shareView/"+this.allowAsamReportUrl:(this.error=!0,this.isLoading=!1)}},mounted:function(){var t=this;this.$refs.iframe&&(this.$refs.iframe.onload=function(){t.isLoading=!1})},created:function(){this.setUrl()},watch:{"$route.params.linkId":function(){this.setUrl()},allowAsamReportUrl:function(){this.setUrl()}}},e={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{class:{hasnav:t.hasNav},staticStyle:{position:"relative",height:"100%"}},[t.hasNav?a("page-title"):t._e(),t._v(" "),a("div",{staticClass:"iframe-wrap"},[a("iframe",{ref:"iframe",attrs:{src:t.src,frameborder:"0"}}),t._v(" "),t.isLoading?a("img",{staticClass:"loading-img",attrs:{src:"./static/images/loading.webp"}}):t._e(),t._v(" "),t.error?a("div",{staticClass:"error-text"},[a("img",{attrs:{src:"./static/images/custom-empty-image.png"}}),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[t._v("当前页面未配置"+t._s(t.allowAsamReportUrl))])]):t._e()])],1)},staticRenderFns:[]};var i=a("C7Lr")(r,e,!1,function(t){a("sRFt")},"data-v-365e712e",null);s.default=i.exports},sRFt:function(t,s){}});