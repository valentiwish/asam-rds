webpackJsonp([1],{"/Chq":function(t,e,a){"use strict";var n=a("3cXf"),i=a.n(n),s=a("aA9S"),o=a.n(s),r=a("rVsN"),l=a.n(r),c=a("AA3o"),u=a.n(c),d=a("xSur"),p=a.n(d),h=a("OMN4"),f=a.n(h),g=a("IcnI"),m=a("NHnr"),v=new(function(){function t(){u()(this,t),this.queue={}}return p()(t,[{key:"getInsideConfig",value:function(){return{baseURL:window.location.origin,headers:{}}}},{key:"destroy",value:function(t){delete this.queue[t]}},{key:"interceptors",value:function(t,e){var a=this;t.interceptors.request.use(function(t){return a.queue[e]=!0,t},function(t){return l.a.reject(t)}),t.interceptors.response.use(function(t){if(a.destroy(e),401!=t.data.code)return t;m.default.rejectLogin()},function(t){a.destroy(e);var n=t.response;if(n)401==n.status&&m.default.rejectLogin();else{var s=JSON.parse(i()(t)),o=s.request;n={statusText:o.statusText,status:o.status,request:{responseURL:s.config.url}}}return function(t){var e=t.statusText,a=t.status,n=t.request.responseURL,i={type:"ajax",code:a,mes:e,url:n};n.includes("save_error_logger")||g.a.dispatch("addErrorLog",i)}(n),l.a.reject(t)})}},{key:"request",value:function(t){var e=f.a.create();return t=o()(this.getInsideConfig(),t),this.interceptors(e,t.url),e(t)}}]),t}()),y=function(t){var e={"device-type":"PC","access-token":localStorage.getItem("access_token"),"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8;"},a=[];return"application/x-www-form-urlencoded;charset=UTF-8;"==(e=o()({},e,t))["Content-Type"]?a.push(function(t){return Qs.stringify(t)}):a.push(function(t){return i()(t)}),{headers:e,transformRequest:a}},w={post:function(t,e,a){var n=y(a);return v.request({url:t,method:"post",data:e,headers:n.headers,transformRequest:n.transformRequest})},get:function(t,e,a){return v.request({url:t,method:"get",params:e,headers:y(a)})},custom:function(t){var e=t.obj,a=y(headers);return e.headers=a.headers,e.transformRequest=a.transformRequest,v.request(e)}};e.a=w},"/j8E":function(t,e){},"1aUO":function(t,e){},"2uFj":function(t,e,a){"use strict";var n=a("4+7t");e.a=n.default},"4+7t":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("3cXf"),i=a.n(n),s={deepObjectMerge:function(t,e){var a=JSON.parse(i()(t));for(var n in e)a[n]=a[n]&&"[object Object]"===a[n].toString()?this.deepObjectMerge(a[n],e[n]):a[n]=e[n];return a}},o={appid:"syscenter",baseUrl:window.location.origin,service_user:window.location.origin+"/service_user",iframeBaseUrl:window.location.origin,socketServer:"https://asam.xjqysw.com",authority:{whiteRouterList:["*","/login","/403","/404","/500","/000"],router:!1,button:!1}};e.default=s.deepObjectMerge(o,{})},"4aFD":function(t,e){},"6LQY":function(t,e){},"8Jvz":function(t,e){},AemR:function(t,e){},"BE/l":function(t,e){},"D+VX":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("rVsN"),i=a.n(n),s=a("3cXf"),o=a.n(s),r=a("/Chq"),l=(a("sqb0"),a("2uFj"),function(t,e){t("setSysMenuDataOriginal",e);var a={},n=e.filter(function(t,e){var n=JSON.parse(o()(t));return n.isOperation?n.url&&n.url.split(";").map(function(t,e){a[t]=n}):n.url&&"#"!=n.url&&(a[n.url]=n),1!=t.isOperation}),i=function(t){t.sort(function(t,e){return t.sort-e.sort})},s=[];n.map(function(t,e){var a,o;0!==t.isDisplay&&(void 0==t.pid||t.pid&&0==(a=t.pid,o=[],n.some(function(t,e){return t.id==a&&(o.push(t),!0)}),o).length)&&(t.deep=0,t.children=function t(e,a){var s=[];return n.map(function(n,o){if(n.pid==e&&0!==n.isDisplay){var r=t(n.id,a+1);i(r),r.length>0?n.children=r:n.disabled=!0,n.deep=a,s.push(n)}}),i(s),s}(t.id,1),s.push(t))}),i(s),t("setSysMenuData",s),t("setSysMenuMap",a)}),c={getUserInfo:function(t){var e=t.commit,a={};r.a.post("/service_user/human/getUserInfo").then(function(t){200===t.data.code?a=t.data.data:a.userName="未知用户",e("setUserInfo",a)},function(){a.userName="未知用户",e("setUserInfo",a)})},login:function(t,e){var a=t.commit,n=e.username,s=e.password;return new i.a(function(t,e){var i;(i={username:n.trim(),password:s},r.a.post("/service_user/login/login",{data:i})).then(function(e){var n=e.data;a("SET_TOKEN",n.token),setToken(n.token),t()}).catch(function(t){e(t)})})},getAuthMoudles:function(t,e){var a=t.commit;return new i.a(function(t,n){var i;(i={appid:e.appid},r.a.post("/service_user/moudle/getAuthMoudles",i)).then(function(e){if(200==e.data.code){var n=[{id:"gallery",name:"工作台",icon:"fa fa-archive",url:"/_gallery"}].concat(e.data.data);l(a,n),t(n)}else t([]);a("setCheckReady",!0),t(e.data.data)},function(t){n(t)})})},getOperationList:function(t){var e=t.commit;t.state;return new i.a(function(t,a){r.a.post("/service_user/operation/findAll").then(function(n){var i=[];200==n.data.code?(i=n.data.data,e("setOperationList",i),t(i)):(e("setOperationList",i),a([]))},function(){e("setOperationList",[]),a([])})})}};e.default={namespaced:!0,state:{checkReady:!1,userInfo:{userName:'<i class="ivu-icon ivu-icon-load-c animate_rotate"></i> ...',roleIds:"",userId:"",loginName:"",phone:"",sex:""},sysMenuMap:{},sysMenuData:[],sysMenuDataOriginal:[],operationList:[],mainMenuId:""},mutations:{setCheckReady:function(t,e){return t.checkReady=e},setUserInfo:function(t,e){return t.userInfo=e},setSysMenuMap:function(t,e){return t.sysMenuMap=e},setSysMenuData:function(t,e){return t.sysMenuData=e},setSysMenuDataOriginal:function(t,e){return t.sysMenuDataOriginal=e},setOperationList:function(t,e){return t.operationList=e},setMainMenuId:function(t,e){return t.mainMenuId=e}},actions:c}},IcnI:function(t,e,a){"use strict";var n=a("bSIt"),i={};a("lRwf").use(n.a);var s=a("w+hY"),o=s.keys().reduce(function(t,e){var a=e.replace(/^\.\/(.*)\.\w+$/,"$1"),n=s(e);return t[a]=n.default,t},{});e.a=new n.a.Store({modules:o,getters:i})},MAw5:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("/Chq"),i=(a("rVsN"),a("3cXf")),s=a.n(i),o=(a("IHPB"),a("4YfN"),a("sqb0"),a("2uFj")),r=a("ZLEe"),l=a.n(r);a("zsLt"),a("kfHR");document.addEventListener,document.removeEventListener,o.a.title,o.a.cookieExpires,o.a.useI18n;var c={uuid:function(t,e){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},randomNum:function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},checkIsUrl:function(t){return new RegExp("^(http|https)://","i").test(t)},getFileShowUrl:function(t){return"/service_file/show?fileId="+t},getFileDownloadUrl:function(t){return"/service_file/download?fileId="+t},formatDate:function(t,e){if("string"==typeof t&&""!=t.replace(/(^\s*)|(\s*$)/g,"")){t=t.replace(/\-/g,"/");var a=new Date(t);return e?a.Format(e):a}return e?null:""},openUrl:function(t,e){var a=document.createElement("a");document.body.appendChild(a),a.href=t,e&&(a.target="_new"),a.click(),document.body.removeChild(a)},getRandomColor:function(){return"#"+(Math.round(255*Math.random())<<16|Math.round(255*Math.random())<<8|Math.round(255*Math.random())).toString(16)},hex2rgb:function(t){var e=t.toLowerCase();if(e&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var a="#",n=1;n<4;n+=1)a+=e.slice(n,n+1).concat(e.slice(n,n+1));e=a}var i=[];for(n=1;n<7;n+=2)i.push(parseInt("0x"+e.slice(n,n+2)));return i}return e},changePicColor:function(t,e){var a=this.hex2rgb(e),n=document.createElement("canvas");n.width=t.width,n.height=t.height;var i=n.getContext("2d");i.drawImage(t,0,0);for(var s=i.getImageData(0,0,t.width,t.height),o=0;o<s.height;++o)for(var r=0;r<s.width;++r){var l=4*o*s.width+4*r;s.data[l]=a[0],s.data[l+1]=a[1],s.data[l+2]=a[2]}return i.putImageData(s,0,0,0,0,s.width,s.height),n.toDataURL()},formatTreeData:function(t,e){var a=JSON.parse(s()(t)),n=[];return a.map(function(t){(""==t.pid||void 0==t.pid||t.pid&&0==function(t){var e=[];return a.some(function(a){return a.id==t&&(e.push(a),!0)}),e}(t.pid).length)&&(t.title=t.name,t.expand=t.open,t.children=function t(n){var i=[];return a.map(function(a){if(a.pid==n){a.title=a.name,a.expand=a.open;var s=t(a.id);s.length>0?(a.children=s,a.checked=a.children.every(function(t){return t.checked})):"function"==typeof e?a.render=e:"disabledbranch"==e&&(a.disabled=!0),"hidenocheckbranch"==e?(1==a.checked||a.children&&a.children.length>0)&&i.push(a):i.push(a)}}),i}(t.id),n.push(t))}),n},getTreeParents:function(t,e){var a=JSON.parse(s()(t)),n=[],i=function(t){var e=null;return a.some(function(a){return a.id==t&&(e=a,!0)}),e};return i(e)?(function t(e){var a=i(e);a&&(n.push(a),t(a.pid))}(i(e).pid),n.reverse()):n},getTreeParentsId:function(t,e){return this.getTreeParents(t,e).map(function(t){return t.id})},getTreeChildrens:function(t,e){var a=[];if(t.find(function(t,a){return t.id==e})){!function e(n){t.map(function(t,i){n==t.pid&&(a.push(t),e(t.id))})}(e)}return a},getTreeChildrensId:function(t,e){return this.getTreeChildrens(t,e).map(function(t){return t.id})},getTreeInParents:function(t,e){var a=this.getTreeParents(t,e);return t.some(function(t){return t.id==e&&(a.push(t),!0)}),a},getTreeInParentsId:function(t,e){return this.getTreeInParents(t,e).map(function(t){return t.id})},getTreeNodeById:function(t,e){var a=null;return JSON.parse(s()(t)).some(function(t){return t.id==e&&(a=t,!0)}),a},Flat2TreeDataForCascader:function(t){var e=JSON.parse(s()(t)),a=[];return e.map(function(t){(void 0==t.pid||""==t.pid||t.pid&&0==function(t){var a=[];return e.some(function(e){return e.id==t&&(a.push(e),!0)}),a}(t.pid).length)&&(t.label=t.name,t.value=t.id,t.children=function t(a){var n=[];return e.map(function(e){if(e.pid==a){e.label=e.name,e.value=e.id;var i=t(e.id);i.length>0&&(e.children=i),n.push(e)}}),n}(t.id),a.push(t))}),a},Flat2TreeDataForCascaderLeaf:function(t,e){var a=[],n=[];e?(a=e,n=t):n=this.Flat2TreeDataForCascader(t);for(var i=0;i<n.length;i++){var s=n[i].children;void 0==s||0==s.length?a.push(n[i]):this.Flat2TreeDataForCascaderLeaf(s,a)}return a},dateFormat:function(t,e){var a=void 0,n={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(var i in n)(a=new RegExp("("+i+")").exec(e))&&(e=e.replace(a[1],1==a[1].length?n[i]:n[i].padStart(a[1].length,"0")));return e},download:function(t){var e=new XMLHttpRequest;e.responseType="blob",e.open("GET",t.url,!0),e.setRequestHeader("access-token",localStorage.access_token),e.onreadystatechange=function(){4==this.readyState?200==this.status?function(t,e){var a=document.createElement("a");a.download=e,a.style.display="none";var n=new Blob([t],{type:"application/octet-stream"});a.href=URL.createObjectURL(n),document.body.appendChild(a),a.click(),document.body.removeChild(a)}(this.response,t.name):this.responseText:2==this.readyState&&(200==this.status?this.responseType="blob":this.responseType="text")},e.send(null)}},u=a("IcnI"),d=a("hRKE"),p=a.n(d),h={name:"changePwd",props:["value"],components:{},computed:{},data:function(){return{account:{id:"",loginName:"",password:"",newPwd:"",newPwdRep:""},passwordStrength:{text:"非常弱",percent:0,status:"wrong"},ruleValidate:{password:[{required:!0,message:"请输入原始密码",trigger:"blur"}],newPwd:[{required:!0,message:"请输入新密码",trigger:"blur"}],newPwdRep:[{required:!0,message:"请输入确认密码",trigger:"blur"}]}}},methods:{openModal:function(){this.value=!0},submitAsyn:function(){var t=this;this.$ajax.post("/service_user/account/changePwd",{accountId:this.account.id,oldPwd:this.account.password,newPwd:this.account.newPwd}).then(function(e){200==e.data.code?(t.$Message.success("密码修改成功"),t.closeModal()):t.$Message.error(e.data.message)}).catch(function(t){error.url||console.info(error)})},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.checkPwdSame()&&(e.passwordStrength.percent<60?e.$Modal.confirm({title:"提醒",content:"您的新密码强度较弱，是否提交？",onOk:function(){e.submitAsyn()}}):e.submitAsyn()):e.$Message.error("密码修改表单校验失败!")})},checkPwdSame:function(){return this.account.newPwd==this.account.newPwdRep||(this.$Message.error("确认密码与新密码不一致，请检查后重新输入"),!1)},closeModal:function(){this.value=!1,this.value=!1,this.account.id=null,this.account.password="",this.account.newPwd="",this.account.newPwdRep=""},getUser:function(){var t=this;this.$ajax.post("/service_user/account/getAccountInfo").then(function(e){200==e.data.code&&(t.account.id=e.data.data.id,t.account.loginName=e.data.data.loginName,t.account.password="")},function(){})},checkStrength:function(){var t=this.account.newPwd;t?0==t.length?this.passwordStrength={text:"非常弱",percent:0,status:"wrong"}:t.length<6?this.passwordStrength={text:"非常弱",percent:10,status:"wrong"}:t.match(/^[0-9]{6,20}$|^[a-zA-Z]{6,20}$/)?this.passwordStrength={text:"强度较弱",percent:40,status:"wrong"}:t.match(/^[A-Za-z0-9]{6,20}$/)?this.passwordStrength={text:"强度适中",percent:60,status:"success"}:t.match(/^\w{6,20}$/)&&(this.passwordStrength={text:"密码较强",percent:100,status:"success"}):this.passwordStrength={text:"非常弱",percent:10,status:"wrong"}}},mounted:function(){},created:function(){this.value&&this.getUser()},watch:{value:function(t){t&&this.getUser()},"account.newPwd":function(){this.checkStrength()}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:"修改密码",width:"500",closable:!0},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("Form",{ref:"account",attrs:{"label-width":100,model:t.account,rules:t.ruleValidate},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("Form-item",{attrs:{label:"当前账号"}},[[t._v(t._s(t.account.loginName))]],2),t._v(" "),a("Form-item",{attrs:{label:"原始密码",prop:"password"}},[a("Input",{attrs:{placeholder:"请输入原始密码",type:"password"},model:{value:t.account.password,callback:function(e){t.$set(t.account,"password","string"==typeof e?e.trim():e)},expression:"account.password"}})],1),t._v(" "),a("Form-item",{attrs:{label:"新密码",prop:"newPwd"}},[a("Input",{attrs:{placeholder:"请设置新密码",type:"password"},model:{value:t.account.newPwd,callback:function(e){t.$set(t.account,"newPwd","string"==typeof e?e.trim():e)},expression:"account.newPwd"}})],1),t._v(" "),a("Form-item",{staticStyle:{"margin-bottom":"2px"}},[a("Progress",{attrs:{percent:t.passwordStrength.percent,"stroke-width":5,status:t.passwordStrength.status}},[a("Icon",{directives:[{name:"show",rawName:"v-show",value:t.account.newPwd.length>0,expression:"account.newPwd.length>0"}],attrs:{type:"checkmark-circled"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.account.newPwd.length>0,expression:"account.newPwd.length>0"}]},[t._v(t._s(t.passwordStrength.text))])],1)],1),t._v(" "),a("Form-item",{attrs:{label:"确认密码",prop:"newPwdRep"}},[a("Input",{attrs:{placeholder:"请再次输入新密码",type:"password"},model:{value:t.account.newPwdRep,callback:function(e){t.$set(t.account,"newPwdRep","string"==typeof e?e.trim():e)},expression:"account.newPwdRep"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"ivu-btn ivu-btn-primary",attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.handleSubmit("account")}}},[t._v("保存")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:function(e){return t.closeModal()}}},[t._v("关闭")])],1)],1)},staticRenderFns:[]};var g=a("C7Lr")(h,f,!1,function(t){a("mkR4")},"data-v-bce8dd8e",null).exports,m=a("aA9S"),v=a.n(m),y=a("a3Yh"),w=a.n(y),_=null,b="",x={};WebUploader.Uploader.register({"before-send-file":"beforeSendFile"},{beforeSendFile:function(t,e,a){var n=WebUploader.Deferred();return _.isNeedCheck?(new WebUploader.Uploader).md5File(t,0,10485760).then(function(e){_?_.checkFile({MD5:e,userName:_.userInfo.phone,filename:t.name,moudleName:_.uploader.options.formData.moudleName,size:t.size},function(a,i){a?(x=i,_.uploader.skipFile(t)):b=e,n.resolve()}):n.resolve()}):setTimeout(function(){n.resolve()},0),n.promise()}});var S={name:"webuploader",props:["option","webUploaderId"],data:function(){var t;return{picker:null,uploader:null,btnText:"上传文件",fileList:[],modal_view:!1,modaldata:{src:null,title:""},isError:!1,userInfo:{},icons:(t={".doc":"fa-file-word-o",".docx":"fa-file-word-o",".xls":"fa-file-excel-o",".xlsx":"fa-file-excel-o",image:"fa-file-photo-o",".jpg":"fa-file-photo-o",".png":"fa-file-photo-o",".bmp":"fa-picture-o",".pdf":"fa-file-pdf-o",".zip":"fa-file-archive-o",".rar":"fa-file-archive-o"},w()(t,".rar","fa-file-archive-o"),w()(t,".mp4","fa-file-movie-o"),w()(t,".rmvb","fa-file-movie-o"),w()(t,".mp3","fa-file-sound-o"),w()(t,".wav","fa-file-sound-o"),w()(t,".amr","fa-file-sound-o"),t)}},computed:{types:function(){return this.option.type||"drag"},deleteDefaultFile:function(){return this.option.deleteDefaultFile||!1},showFileList:function(){return void 0==this.option.showFileList||this.option.showFileList},isNeedCheck:function(){return void 0===this.option.server||"/FileService/upload"===this.option.server||"/FileService/zip"===this.option.server}},methods:{getIcon:function(t){var e=t.type.toLowerCase(),a=this.icons[e],n="fa-file";if(a)n=a;else if(t.name){var i=t.name.split("."),s=i[i.length-1];if(s){var o=this.icons["."+s];o&&(n=o)}}return n},getDownloadUrl:function(t){return c.getFileDownloadUrl(t.id)},showServerFile:function(t){var e=c.getFileShowUrl(t.id);if(t.type&&t.type.match("image")||t.name&&t.name.match(".pdf"))this.modal_view=!0,this.modaldata.title=t.name,this.modaldata.src=e;else{this.$Modal.confirm({title:"温馨提醒",content:t.name+"<br/>不支持在线预览，是否下载查看？",onOk:function(){window.open(e)}})}},open_dialog:function(){$(this.picker).find("input").click()},addDefaultFile:function(t){var e=this;t.map(function(t,a){t.isServerFile=!0,t.percentage=1,e.fileList.push(t)})},upload:function(){this.isError?this.retry():this.uploader.upload()},retry:function(t){this.uploader.retry(t)},getFile:function(t){return this.uploader.getFile(t)},getFiles:function(){return this.uploader.getFiles()},_initWebuploader:function(){this.uploader=WebUploader.create(v()({swf:"@/assets/js/webuploader/Uploader.swf",auto:!1,server:"/FileService/upload",resize:!1,pick:this.picker,dnd:"drag"==this.types?this.$refs.uploaddrag:void 0,disableGlobalDnd:!0,accept:null,duplicate:!0,fileSingleSizeLimit:10485760},this.option)),this.option.btnText&&(this.btnText=this.option.btnText)},deleteFile:function(t){var e=this;this.fileList.some(function(a,n){return a.id==t&&(e.$emit("deleteFile",{file:a,webUploaderId:e.webUploaderId}),e.fileList.splice(n,1),a.isServerFile||e.uploader.removeFile(t,!0),!0)})},makethumb:function(t){var e=this;this.modal_view=!0,this.modaldata.title=t.name,t.isServerFile?this.modaldata.src=t.src:(this.modaldata.src=null,this.uploader.makeThumb(t,function(t,a){e.modaldata.src=a},1,1))},checkFile:function(t,e){this.$ajax.post("/FileService/getFileByMD5",t).then(function(t){200===t.data.code?e(!0,t.data):e(!1)},function(){e(!1)})},checkFileFast:function(t,e){this.$ajax.post("/FileService/getFileByMD5NoSave",t).then(function(t){200===t.data.code?e(!0):e(!1)},function(){e(!1)})},_addEvent:function(){var t=this,e=this.webUploaderId;this.uploader.on("ready",function(){t.$emit("ready",{webUploaderId:e})}),this.uploader.on("beforeFileQueued",function(e){return!(t.fileList.length>=t.uploader.options.fileNumLimit)||(t.$Message.warning("文件数量超出不能超过"+t.uploader.options.fileNumLimit+"个"),!1)}),this.uploader.on("beforeFileQueued",function(a){if("function"==typeof t.option.beforeFileQueued)return t.option.beforeFileQueued({file:a,webUploaderId:e})}),this.uploader.on("fileQueued",function(a){a.percentage=0,t.fileList.push(a),t.$emit("fileQueued",{file:a,webUploaderId:e}),t.isNeedCheck&&t.uploader.md5File(a).then(function(e){t.fileList.some(function(n,i){return n.id==a.id&&(n.md5=e,t.checkFileFast({MD5:e},function(e){n.isFastUpload=e,t.fileList.splice(i,1,n)}),!0)})})}),this.uploader.on("uploadStart",function(a){t.$emit("uploadStart",{file:a,webUploaderId:e})}),this.uploader.on("reset",function(){t.fileList=[],t.$emit("reset",{webUploaderId:e})}),this.uploader.on("uploadAccept",function(a,n){return"function"==typeof t.option.uploadAccept?t.option.uploadAccept({object:a,response:n,webUploaderId:e}):200==n.code}),this.uploader.on("uploadProgress",function(a,n){t.fileList.some(function(e,i){return e.id==a.id&&(e.percentage=n,t.fileList.splice(i,1,e),!0)}),t.$emit("uploadProgress",{file:a,percentage:n,webUploaderId:e})}),this.uploader.on("uploadSuccess",function(a,n){t.fileList.some(function(e,n){return e.id==a.id&&(e.percentage=1,t.fileList.splice(n,1,e),!0)}),n||(n=x),t.$emit("uploadSuccess",{file:a,response:n,webUploaderId:e})}),this.uploader.on("uploadError",function(a,n){t.$emit("uploadError",{file:a,reason:n,webUploaderId:e}),t.fileList.filter(function(e,n){return e.id==a.id&&(e.percentage=0,t.fileList.splice(n,1,e),!0)})}),this.uploader.on("uploadBeforeSend",function(a,n,i){n.userName=t.userInfo.phone,n.MD5=b,i["access-token"]=localStorage.access_token,t.$emit("uploadBeforeSend",{object:a,data:n,headers:i,webUploaderId:e})}),this.uploader.on("uploadFinished",function(a,n){t.isError=0==t.uploader.getFiles("error").length,t.$emit("uploadFinished",{error:!t.isError,fileList:t.uploader.getFiles(),fileCount:t.uploader.getFiles().length,webUploaderId:e})}),this.uploader.on("startUpload",function(){t.$emit("startUpload",{webUploaderId:e})}),this.uploader.on("stopUpload",function(){t.$emit("stopUpload",{webUploaderId:e})}),this.uploader.on("error",function(a){switch(a){case"F_EXCEED_SIZE":t.$Message.warning("请选择小于"+t.uploader.options.fileSingleSizeLimit/1024/1024+"Mb的文件");break;case"Q_EXCEED_NUM_LIMIT":t.$Message.warning("文件数量超出不能超过"+t.uploader.options.fileNumLimit+"个");break;case"Q_TYPE_DENIED":t.$Message.warning("请选择"+t.uploader.options.accept[0].extensions+"文件")}t.$emit("error",{type:a,webUploaderId:e})})}},mounted:function(){var t=this,e=1e3*Math.random();setTimeout(function(){t.picker=t.$refs.picker,t._initWebuploader(),t._addEvent()},e)},beforeDestroy:function(){this.uploader&&this.uploader.destroy()},created:function(){_=this;try{this.userInfo=JSON.parse(localStorage.userInfo)}catch(t){}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"picker",staticStyle:{display:"none"}},[t._v("选择文件")]),t._v(" "),a("div",["drag"==t.types?a("div",{ref:"uploaddrag",staticClass:"ivu-upload ivu-upload-drag",on:{click:t.open_dialog}},[a("div",{staticStyle:{padding:"10px 0px"}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-cloud-upload",staticStyle:{"font-size":"52px",color:"rgb(51, 153, 255)"}}),t._v(" "),a("p",[t._v("点击此处或者拖入文件进行上传")]),t._v(" "),a("div",{staticStyle:{"font-size":"12px","margin-top":"5px",color:"#4c99e6"}},[t._t("text")],2)])]):a("div",{staticClass:"ivu-upload ivu-upload-select",staticStyle:{display:"inline-block"}},[a("button",{staticClass:"ivu-btn",attrs:{type:"button"},on:{click:t.open_dialog}},[a("i",{staticClass:"ivu-icon ivu-icon-ios-cloud-upload-outline"}),t._v(" "),a("span",[t._v(t._s(t.btnText))])]),t._v(" "),t._t("btntext"),t._v(" "),a("div",{staticStyle:{"font-size":"12px","margin-top":"10px",color:"#555"}},[t._t("text")],2)],2)]),t._v(" "),t.showFileList?a("ul",{staticClass:"ivu-upload-list"},t._l(t.fileList,function(e){return a("li",{key:e.id,staticClass:"ivu-upload-list-file ivu-upload-list-file-finish"},[a("span",[a("i",{staticClass:"fa fa-fw",class:t.getIcon(e),staticStyle:{margin:"0 5px",color:"#696969"}}),t._v(" "),a("span",[t._v(t._s(e.name))]),t._v(" "),e.isFastUpload?a("i",{staticClass:"fa-fw fa fa-bolt",staticStyle:{color:"#2D8CF0"},attrs:{title:"支持极速上传"}}):t._e()]),t._v(" "),e.type&&e.type.match("image")?a("span",{staticStyle:{"font-size":"14px","margin-left":"5px",display:"inline-block","vertical-align":"middle"},on:{click:function(a){return t.makethumb(e)}}},[a("Icon",{staticStyle:{color:"#2d8cf0"},attrs:{type:"ios-eye"}})],1):e.isServerFile?a("span",{staticStyle:{"margin-left":"10px"},attrs:{title:"预览文件"},on:{click:function(a){return t.showServerFile(e)}}},[a("Icon",{staticStyle:{color:"#2d8cf0"},attrs:{type:"ios-eye"}})],1):t._e(),t._v(" "),e.isServerFile?a("a",{staticStyle:{"margin-left":"10px"},attrs:{href:t.getDownloadUrl(e),target:"_blank",title:"下载文件"}},[a("span",[a("Icon",{attrs:{type:"md-download"}})],1)]):t._e(),t._v(" "),a("i",{staticClass:"ivu-icon ivu-icon-ios-close ivu-upload-list-remove",on:{click:function(a){return t.deleteFile(e.id)}}}),t._v(" "),a("Progress",{attrs:{percent:100*e.percentage,"stroke-width":5}},[e.percentage>=1?[a("Icon",{attrs:{type:"checkmark-circled"}}),t._v(" "),a("span",[t._v("成功")])]:0==e.percentage?[a("Icon",{attrs:{type:"ios-cloud-upload-outline"}}),t._v(" "),a("span",[t._v("待上传")])]:[a("Icon",{attrs:{type:"ios-loop"}}),t._v(" "),a("span",[t._v("上传中")])]],2)],1)}),0):t._e(),t._v(" "),a("Modal",{attrs:{title:t.modaldata.title,width:"70%",draggable:!1},model:{value:t.modal_view,callback:function(e){t.modal_view=e},expression:"modal_view"}},[a("div",{staticStyle:{"text-align":"center"}},[t.modaldata.src?a("iframe",{staticStyle:{width:"100%",height:"600px"},attrs:{src:t.modaldata.src,frameborder:"0"}}):a("i",{staticClass:"fa fa-circle-o-notch fa-spin",staticStyle:{color:"#ccc","font-size":"50px"},attrs:{"aria-hidden":"true"}})]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})])],1)},staticRenderFns:[]};var C={components:{webuploader:a("C7Lr")(S,k,!1,function(t){a("MAw5")},null,null).exports},data:function(){return{loading:!1,option:{accept:{title:"Images",extensions:"jpg,jpeg,png",mimeTypes:"image/jpg, image/jpeg, image/png"},fileSingleSizeLimit:10485760,fileNumLimit:100,formData:{moudleName:"human"},beforeFileQueued:this.beforeFileQueued},uploadimgurl:null,type:"view",showModal:!1,id:"",sexs:[],userOrg:[],orgTree:[],orgTreeData:[],minVal:0,maxVal:50,stepVal:1,positions:[],professions:[],posts:[],user:{jobNumber:"",userName:"",cardID:"",sex:{id:""},birthday:"",userPhone:"",telephone:"",email:"",state:"1",photo:{id:""}},ruleValidate:{jobNumber:[{required:!0,max:10,message:"请输入工号，最多不超过10个字符",trigger:"blur"}],userName:[{required:!0,message:"请输入姓名，最多不超过20个字符",trigger:"blur"}],cardID:[{required:!0,message:"请输入身份证号",trigger:"blur"},{type:"string",validator:function(t,e,a){e?0==/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)?a(new Error("请输入正确的身份证号")):a():a(new Error("请输入身份证号"))},trigger:"blur"},{type:"string",validator:this.checkCardIDIsExist,trigger:"blur"}],"sex.id":[{type:"number",message:"请选择性别",trigger:"change"}],birthday:[{required:!0,type:"string",message:"请选择出生日期",trigger:"change"}],userPhone:[{required:!0,message:"请输入电话，最多不超过11个字符",trigger:"blur"},{type:"string",validator:this.checkPhone,trigger:"blur"}],telephone:[{message:"请输入固定电话",trigger:"blur"},{type:"string",pattern:/0\d{2,3}-\d{7,8}/,message:"请输入固定电话，由区号和电话号码中间加上“-”组成，区号以数字0开始",trigger:"blur"}],email:[{message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},limitCardDate:{disabledDate:function(t){return t&&t.valueOf()>Date.now()}}}},methods:{getFileShowUrl:function(){return""},openDialog:function(){this.$refs.webuploader.open_dialog()},beforeFileQueued:function(){var t=this;this.$refs.webuploader.uploader.getFiles().map(function(e,a){t.$refs.webuploader.uploader.removeFile(e)})},fileQueued:function(t){var e=this,a=this.$Message.loading({content:"正在读取图片...",duration:0});this.$refs.webuploader.uploader.makeThumb(t.file,function(t,n){a(),e.$Message.success("读取图片信息成功！"),t||(e.uploadimgurl=n)},1,1)},upload:function(){this.$refs.webuploader.upload()},uploadFinished:function(t){t.error?this.loading=!1:this.sureSaveUser()},uploadSuccess:function(t){this.user.photo={},this.user.photo.id=t.response.data.id},removeFile:function(t){null!=t.file.id&&(this.deleteFileId=t.file.id)},birthdaychange:function(t,e){this.user.birthday=t},openModal:function(){this.showModal=!0},closeModal:function(){this.showModal=!1},sureSaveUser:function(){var t=this;null!=this.user.birthday&&(this.user.birthday=new Date(this.user.birthday).Format("yyyy-MM-dd")),null!=this.user.entryTime&&(this.user.entryTime=new Date(this.user.entryTime).Format("yyyy-MM-dd")),null!=this.user.formalTime&&(this.user.formalTime=new Date(this.user.formalTime).Format("yyyy-MM-dd")),null!=this.user.departureTime&&(this.user.departureTime=new Date(this.user.departureTime).Format("yyyy-MM-dd")),this.$ajax.post("/userservice/human/updateUserInfo",{user:this.user}).then(function(e){t.$Message.success("保存成功"),t.type="view",t.getUserInfoByTkId(),t.loading=!1,Bus.$emit("userinfochange",{})},function(){t.loading=!1})},handleSubmit:function(t){var e=this;if(this.loading)return!1;this.loading=!0,this.$refs.user.validate(function(t){t?0==e.$refs.webuploader.uploader.getFiles().length?e.sureSaveUser():e.upload():(e.$Message.error("个人信息表单校验失败!"),e.loading=!1)})},checkCardIDIsExist:function(t,e,a){this.$ajax.post("/userservice/human/checkCardIDIsExist",{cardID:e,id:this.user.id}).then(function(t){"200"==t.data.code&&(t.data.data?a():a("此身份证号已存在"))}).catch(function(){a("此身份证号不能使用")})},checkPhone:function(t,e,a){this.$ajax.post("/userservice/human/checkPhoneIsExist",{phone:e,id:this.user.id}).then(function(t){"200"==t.data.code&&(t.data.data?a():a("此手机号已存在"))}).catch(function(){a("此手机号不能使用")})},calculateGender:function(){var t=this.user.cardID,e=t.length,a=6,n=null;18==e?(n=t.substring(a,a+4),a+=4):(n=t.substring(a,a+2),a+=2);var i=t.substring(a,a+2),s=t.substring(a+2,a+4),o=new Date(n+"-"+i+"-"+s).Format("yyyy-MM-dd");this.user.birthday=o;var r=parseInt(t.substring(e-2,e-1))%2;this.user.sex.id=1==r?this.sexs[0].id:this.sexs[1].id;var l=new Date,c=new Date(o),u=l.getFullYear()-c.getFullYear();(l.getMonth()<c.getMonth()||l.getMonth()==c.getMonth()&&l.getDate()<c.getDate())&&u--,this.user.age=u},getUserInfoByTkId:function(){var t=this;this.$ajax.post("/userservice/human/getUserInfoByTkId").then(function(e){200===e.data.code&&(t.user=e.data.data,null!=t.user.birthday&&(t.user.birthday=new Date(t.user.birthday).Format("yyyy-MM-dd")),null!=t.user.entryTime&&(t.user.entryTime=new Date(t.user.entryTime).Format("yyyy-MM-dd")),null!=t.user.formalTime&&(t.user.formalTime=new Date(t.user.formalTime).Format("yyyy-MM-dd")),null!=t.user.departureTime&&(t.user.departureTime=new Date(t.user.departureTime).Format("yyyy-MM-dd")))})},toUpdateForm:function(){this.type="update",this.getUserInfoByTkId()},toViewForm:function(){this.type="view",this.getUserInfoByTkId(),null!=this.user.birthday&&(this.user.birthday=new Date(this.user.birthday).Format("yyyy-MM-dd"))},getOrgTree:function(){var t=this;this.$ajax.post("/userservice/organization/getOrgTree",{parentId:1}).then(function(e){null!=e.data.data&&(t.orgTree=t.$utils.Flat2TreeDataForCascader(e.data.data),t.orgTreeData=e.data.data)}).catch(function(t){t.url||console.info(t)})},getUserParam:function(){var t=this;this.$ajax.post("/userservice/sysData/findByTypeCode",{dataTypeCode:"USER_SEX"}).then(function(e){null!=e.data.data&&(t.sexs=e.data.data)}).catch(function(t){t.url||console.info(t)})}},created:function(){},watch:{showModal:function(t){t&&(this.getOrgTree(),this.getUserParam(),this.getUserInfoByTkId())}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:"个人信息",draggable:!1},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("Form",{ref:"user",class:{"form-view":"view"==t.type},attrs:{model:t.user,rules:t.ruleValidate,"label-width":108,inline:""}},["view"==t.type?a("div",{class:{"form-view":!1},staticStyle:{float:"right",width:"130px",height:"130px","border-radius":"5px",overflow:"hidden","text-align":"left",margin:"15px 40px 5px 5px"}},[t.user.photo?a("img",{staticStyle:{width:"130px"},attrs:{src:t.getFileShowUrl(t.user.photo)}}):a("img",{staticStyle:{width:"130px"},attrs:{src:"./static/images/header/default-photo.jpg"}})]):t._e(),t._v(" "),"view"!=t.type?a("div",{staticStyle:{float:"right",position:"relative",margin:"15px 40px 5px 5px","text-align":"left",width:"130px",height:"130px",overflow:"hidden","border-radius":"5px"}},[a("span",{staticStyle:{cursor:"pointer","text-align":"center"},attrs:{title:"点击更换头像"},on:{click:t.openDialog}},[t.uploadimgurl?a("img",{staticStyle:{width:"130px"},attrs:{src:t.uploadimgurl}}):t.user.photo?a("img",{staticStyle:{width:"130px"},attrs:{src:t.getFileShowUrl(t.user.photo)}}):a("img",{staticStyle:{width:"130px"},attrs:{src:"./static/images/user_img.jpg"}}),t._v(" "),a("div",{staticStyle:{position:"absolute",top:"0",width:"100%",padding:"3px 0",background:"rgba(255,255,255,0.6)","font-size":"14px",color:"#000"}},[t._v("更换头像")])]),t._v(" "),a("webuploader",{ref:"webuploader",staticStyle:{display:"none"},attrs:{option:t.option},on:{fileQueued:t.fileQueued,deleteFile:t.removeFile,uploadSuccess:t.uploadSuccess,uploadFinished:t.uploadFinished}})],1):t._e(),t._v(" "),a("div",{staticStyle:{"margin-right":"250px"}},[a("Form-item",{attrs:{label:"姓名",prop:"userName"}},["view"==t.type?[t._v(t._s(t.user.userName))]:a("Input",{attrs:{maxlength:"20",placeholder:"请输入姓名"},model:{value:t.user.userName,callback:function(e){t.$set(t.user,"userName",e)},expression:"user.userName"}},[t._v(t._s(t.user.userName))])],2),t._v(" "),a("Form-item",{staticClass:"form-view",attrs:{label:"性别"}},[t._v("\n                   "+t._s(t.user.sex)+"\n               ")]),t._v(" "),a("Form-item",{staticClass:"form-view",attrs:{label:"入职时间"}},[t._v("\n                   "+t._s(t.user.entryDate)+"\n               ")])],1),t._v(" "),a("Form-item",{staticClass:"form-view",attrs:{label:"出生日期"}},[t._v("\n               "+t._s(t.user.birthday)+"\n           ")]),t._v(" "),a("Form-item",{attrs:{label:"手机号",prop:"userPhone"}},["view"==t.type?[t._v(t._s(t.user.userPhone))]:a("Input",{attrs:{placeholder:"请输入手机号",maxlength:"11"},model:{value:t.user.userPhone,callback:function(e){t.$set(t.user,"userPhone",e)},expression:"user.userPhone"}},[t._v(t._s(t.user.userPhone))])],2),t._v(" "),a("Form-item",{attrs:{label:"邮箱",prop:"email"}},["view"==t.type?[t._v(t._s(t.user.email))]:a("Input",{attrs:{placeholder:"请输入邮箱",maxlength:"30"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}},[t._v(t._s(t.user.email))])],2)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},["view"!=t.type?a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.handleSubmit("user")}}},[t._v("保存")]):t._e(),t._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:function(e){t.showModal=!1,t.type="view"}}},[t._v("关闭")])],1)],1)},staticRenderFns:[]};var D={name:"header",components:{changePwd:g,personalInfo:a("C7Lr")(C,M,!1,function(t){a("X/4N")},"data-v-a0ee8e30",null).exports},props:{title:{type:String,default:"综合运维系统"}},data:function(){return{baseUserData:[],baseCascader:[],photoSize:{width:0,height:0},selectMenu:"/home",layoutmenucontentW:1500,layoutmenuLeft:350}},computed:{sysMenuDataOriginal:function(){return this.$store.state.auth.sysMenuDataOriginal},sysMenuData:function(){return this.$store.state.auth.sysMenuData},userInfo:function(){if(this.$store.state.auth&&this.$store.state.auth.userInfo)return this.$store.state.auth.userInfo;return{}},getPhotoStyle:function(){return this.photoSize.width==this.photoSize.height?{width:"100%"}:this.photoSize.width>this.photoSize.height?{width:"auto",height:"100%",transform:"translateX(-25%)"}:{height:"auto",width:"100%"}}},methods:{goSysNav:function(){window._sysBaseConf&&(window.location.href=window._sysBaseConf.navUrl)},toggleFullScreen:function(t){this.$store.commit("theme/toggleThemeMinHeader")},showPage:function(t,e){var a=this;this.selectMenu=e.id;this.$nextTick(function(){var t=function t(e){var a=null;e.url&&"#"!=e.url?a=e.url:e.children&&e.children.length>0&&(a=t(e.children[0]));return a}(e);t&&(a.$utils.checkIsUrl(t)?window.open(t):window.location.hash="appid="+a.$root.appid+"&path="+t)})},loginOut:function(){this.$root.loginout()},userinfo:function(){this.$refs.userInfo&&this.$refs.userInfo.openModal()},updatePwd:function(){this.$refs.changePwd&&this.$refs.changePwd.openModal()},clickMenu:function(t){this[t]&&this[t]()},setLayoutmenucontentW:function(){this.layoutmenucontentW=110*this.sysMenuData.length;var t=this.$refs.layoutlogo;t&&(this.layoutmenuLeft=$(t).outerWidth()+20)},addMouseWheelEvent:function(t,e){"object"==p()(t.onmousewheel)&&(t.onmousewheel=function(t){return t.stopPropagation(),t.preventDefault(),e(t)}),void 0===t.onmousewheel&&t.addEventListener("DOMMouseScroll",function(t){return t.deltaY=100*(t.detail<0?-1:1),t.stopPropagation(),t.preventDefault(),e(t)},!1)},activeMenu:function(){var t=this;this.sysMenuDataOriginal.some(function(e,a){if(e.url==t.$root.routePath){if(e.pid){var n=t.$utils.getTreeParents(t.sysMenuDataOriginal,e.id);n.length>0?t.selectMenu=n[0].id:t.selectMenu=e.id}else t.selectMenu=e.id;return t.$store.commit("auth/setMainMenuId",t.selectMenu),!0}return!1})}},mounted:function(){var t=this;if(this.$refs.layout){var e=this.$refs.layoutmenu;this.addMouseWheelEvent(this.$refs.layout,function(t){return e.scrollLeft=e.scrollLeft+t.deltaY,!1})}this.$nextTick(function(){t.activeMenu(),t.setLayoutmenucontentW()}),$(window).on("resize",function(){t.setLayoutmenucontentW()})},created:function(){},watch:{title:function(){this.setLayoutmenucontentW()},"$root.routePath":function(){this.activeMenu()},sysMenuData:function(){this.activeMenu(),this.setLayoutmenucontentW()},userInfo:{immediate:!0,handler:function(t){var e=this;if(t.photoId){var a=new Image;a.src=this.$utils.getFileShowUrl(t.photoId),a.onload=function(){e.photoSize={width:a.width,height:a.height}}}}}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"layout",staticClass:"pager-header layout",class:{minheader:t.$store.state.theme.minHeader}},[a("div",{ref:"layoutlogo",staticClass:"layout-logo",attrs:{title:t.title}},[a("div",{staticClass:"layout-logo_bg",on:{click:t.goSysNav}}),t._v(" "),a("div",{staticClass:"layout-logo_text",on:{dblclick:t.toggleFullScreen}},[t._v("\n            "+t._s(t.title)+"\n        ")])]),t._v(" "),a("div",{ref:"layoutmenu",staticClass:"layout-menu",style:{left:t.layoutmenuLeft+"px"}},[a("div",{staticClass:"layout-menu-content",style:{width:t.layoutmenucontentW+"px"}},t._l(t.sysMenuData,function(e,n){return a("div",{key:e.id,staticClass:"layout-menu-item",class:{active:t.selectMenu==e.id},attrs:{title:e.name},on:{click:function(a){return t.showPage(n,e)}}},[a("div",{staticClass:"layout-menu-item-content"},[a("div",{staticClass:"layout-menu-item-content_icon"},[a("i",{class:e.icon+" fa-fw icon"})]),t._v(" "),a("div",{staticClass:"layout-menu-item-content_title"},[t._v(t._s(e.name))])])])}),0)]),t._v(" "),a("div",{staticClass:"layout-right"},[a("Badge",{attrs:{count:t.$store.state.todoListCount}},[a("div",{staticClass:"pager-header-item layout-userinfo_content",on:{click:function(e){return t.$router.push("/workbench/message")}}},[t.userInfo.photoId?[a("img",{style:t.getPhotoStyle,attrs:{src:t.$utils.getFileShowUrl(t.userInfo.photoId)}})]:["男"==t.userInfo.sex?a("img",{attrs:{src:"./static/images/header/man.jpg"}}):"女"==t.userInfo.sex?a("img",{attrs:{src:"./static/images/header/woman.jpg"}}):a("img",{attrs:{src:"./static/images/header/default-photo.jpg"}})]],2)]),t._v(" "),a("div",{staticClass:"pager-header-item"},[a("Dropdown",{attrs:{trigger:"click"},on:{"on-click":t.clickMenu}},[a("div",{staticStyle:{cursor:"pointer"}},[a("span",{staticStyle:{"vertical-align":"middle"}},[t._v(" 欢迎您")]),t._v(" "),a("span",{staticStyle:{display:"inline-block","max-width":"83px",overflow:"hidden","word-break":"keep-all","white-space":"nowrap","text-overflow":"ellipsis","vertical-align":"middle"},domProps:{innerHTML:t._s(t.userInfo.userName)}}),a("Icon",{attrs:{type:"md-arrow-dropdown"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"userinfo"}},[a("Icon",{attrs:{type:"ios-contact"}}),t._v(" 个人信息")],1),t._v(" "),a("DropdownItem",{attrs:{name:"updatePwd"}},[a("Icon",{attrs:{type:"ios-key"}}),t._v(" 修改密码")],1),t._v(" "),a("DropdownItem",{attrs:{name:"loginOut"}},[a("Icon",{attrs:{type:"md-power"}}),t._v(" 退出系统")],1)],1)],1)],1)],1),t._v(" "),a("personal-info",{ref:"userInfo"}),t._v(" "),a("change-pwd",{ref:"changePwd",attrs:{userInfo:t.userInfo}})],1)},staticRenderFns:[]};var I=a("C7Lr")(D,F,!1,function(t){a("wZ+K")},"data-v-3fac0d9c",null).exports,L={name:"menuList",props:{list:Array},data:function(){return{}},computed:{},methods:{}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.list&&t.list.length>0?a("div",[t._l(t.list,function(e){return[e.children&&e.children.length>0?a("Submenu",{key:e.id,attrs:{name:e.id}},[[a("i",{class:e.icon+" fa-fw",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])],t._v(" "),a("menuList",{key:e.id,attrs:{list:e.children}})],2):a("MenuItem",{key:e.id,attrs:{name:e.url,title:e.name+" "+e.url}},[a("i",{class:e.icon+" fa-fw",attrs:{slot:"icon"},slot:"icon"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])]})],2):t._e()},staticRenderFns:[]},T=a("C7Lr")(L,P,!1,null,null,null).exports,N=new(a("lRwf"))({name:"bus",data:function(){return{}}}),U={name:"pagemenu",components:{menuList:T},props:["theme","collapsed"],data:function(){return{selectMenu:0,showSysMenu:!1,openNames:[],activeName:""}},computed:{sysMenuData:function(){return this.$store.state.auth.sysMenuData},sysMenuDataOriginal:function(){return this.$store.state.auth.sysMenuDataOriginal},sideMenuData:function(){var t=this;return this.sysMenuData.find(function(e){return e.id===t.$store.state.auth.mainMenuId})}},methods:{showSubPage:function(t){t&&(this.$utils.checkIsUrl(t)?window.open(t):window.location.hash="appid="+this.$root.appid+"&path="+t)},setOpenNames:function(){var t=this,e=this.sysMenuDataOriginal.filter(function(e){var a=!1;return e.isOperation?e.url&&(a=e.url.split(";").some(function(e,a){return e==t.$root.routePath})):a=e.url==t.$root.routePath,a});if(e.length>0){var a=this.$utils.getTreeParentsId(this.sysMenuDataOriginal,e[0].id);this.openNames=a}else this.openNames=[]},setActiveName:function(){var t=this,e=this.sysMenuDataOriginal.filter(function(e){var a=!1;return e.isOperation?e.url&&(a=e.url.split(";").some(function(e,a){return e==t.$root.routePath})):a=e.url==t.$root.routePath,a});this.activeName=e.length>0?e[0].isOperation||!e[0].isDisplay?this.getParentUrl(e[0].pid):e[0].url:this.$root.routePath},getParentUrl:function(t){var e="";return this.sysMenuDataOriginal.some(function(a){if(a.id==t)return e=a.url,!0}),e},resetNames:function(){var t=this;this.setOpenNames(),this.setActiveName(),this.$nextTick(function(){t.$refs.submenu&&(t.$refs.submenu.updateOpened(),t.$refs.submenu.updateActiveName()),t.$nextTick(function(){N.$emit("menuLoaded")})})}},created:function(){},mounted:function(){this.resetNames()},watch:{sideMenuData:{immediate:!0,handler:function(){this.resetNames()}},$route:function(){this.resetNames()}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Menu",{ref:"submenu",attrs:{collapse:t.collapsed,theme:t.theme,"active-name":t.activeName,width:"auto","open-names":t.openNames,accordion:""},on:{"on-select":t.showSubPage}},[t.sideMenuData?[t.collapsed?a("menu-list",{attrs:{list:t.sideMenuData.children}}):a("MenuGroup",{attrs:{title:t.sideMenuData.name}},[a("menu-list",{attrs:{list:t.sideMenuData.children}})],1)]:t._e()],2)},staticRenderFns:[]};var R=a("C7Lr")(U,E,!1,function(t){a("y2WE")},"data-v-256fb82c",null).exports,B={name:"page-title",data:function(){return{}},computed:{netDebugHtml:function(){return config.netDebug.html?"本页面首次加载用时"+this.$route.meta.useTime+"s 本次加载用时"+this.$route.meta.curuseTime+"s":""},sysMenuDataOriginal:function(){return this.$store.state.auth.sysMenuDataOriginal},html:function(){var t=this.$store.state.auth.sysMenuMap[this.$root.routePath];if(t){var e=this.$utils.getTreeInParents(this.sysMenuDataOriginal,t.id).map(function(t){return t.name});return e.join('<span class="splitline">/</span>')}return this.$slots.default&&1==this.$slots.default.length?this.$slots.default[0].text:""}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-title"},[a("Icon",{attrs:{type:"md-paper-plane"}}),t._v("当前位置：\n    "),a("span",{staticStyle:{"font-weight":"bold",cursor:"pointer"},attrs:{title:"回到首页"},on:{click:function(e){return t.$router.push("/home")}}},[t._v("\n        首页\n    ")]),t._v(" "),a("span",{staticClass:"splitline"},[t._v("/")]),t._v(" "),a("span",{domProps:{innerHTML:t._s(t.html)}})],1)},staticRenderFns:[]};var O=a("C7Lr")(B,z,!1,function(t){a("/j8E")},"data-v-2710e4f9",null).exports,j={allowsearch:{type:"primary",faicon:"fa fa-search"},allowreset:{type:"default",faicon:"fa fa-refresh"},create:{type:"success",faicon:"fa fa-plus"},"新增":{type:"success",faicon:"fa fa-plus"},view:{type:"primary",faicon:"fa fa-file-text-o"},"查看":{type:"primary",faicon:"fa fa-file-text-o"},"查看权限":{type:"primary",faicon:"fa fa-file-text-o"},update:{type:"info",faicon:"fa fa-edit"},"修改":{type:"info",faicon:"fa fa-edit"},delete:{type:"error",faicon:"fa fa-close"},"删除":{type:"error",faicon:"fa fa-close"},"分配":{type:"primary",faicon:"fa-superpowers"},"分配权限":{type:"primary",faicon:"fa-superpowers"},"分配角色":{type:"primary",faicon:"fa-superpowers"},"重置":{type:"warning",faicon:"fa-history"},"重置密码":{type:"warning",faicon:"fa-history"},"历史记录":{type:"primary",faicon:" fa-list-alt"}},A={name:"allowbtn",props:{size:{default:"default"},allow:{default:""},disabled:{default:!1},type:{default:null},faicon:{default:null}},data:function(){return{selftype:"",selffaicon:""}},computed:{otherText:function(){return o.a.authority.button?"":"【按钮权限未启用】"},isShow:function(){var t=this;if(!o.a.authority.button||["allowsearch","allowreset"].indexOf(this.allow)>-1)return!0;var e=this.$store.state.auth.sysMenuMap[this.$root.routePath];return!!e&&e.allow.some(function(e){return t.allow==e})}},methods:{emitclick:function(){this.$emit("click")},setSearchBtnStyle:function(){var t=this.allow,e=null;this.$slots.default&&this.$slots.default.length>0&&(e=this.$slots.default[0].text);var a=j[t];a||(a=j[e]),a?(this.selffaicon=a.faicon,this.selftype=a.type):(this.faicon?this.selffaicon=this.faicon:this.selffaicon="fa fa-file-text-o",this.type?this.selftype=this.type:this.selftype="primary")}},created:function(){this.setSearchBtnStyle()}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("Button",{class:"allowbtn "+t.allow,attrs:{type:t.selftype,disabled:t.disabled,size:t.size,title:t.$slots.default[0].text+t.allow+t.otherText,ghost:"small"==t.size},on:{click:t.emitclick}},[t.selffaicon?a("i",{staticClass:"fa",class:t.selffaicon}):t._e(),t._v(" "),t._t("default")],2):t._e()},staticRenderFns:[]};var H=a("C7Lr")(A,q,!1,function(t){a("6LQY")},"data-v-6afeedd0",null).exports,V=[{name:"门户网站",category:"公众体系",icon:"nav_i01.png",url:"http://192.168.13.245:9000/website/",position:[-385,378],ignoreToken:!0,newTab:!0},{name:"客服热线",category:"公众体系",fullname:"客服热线系统",icon:"nav_i09.png",url:"customerhotline",position:[-325,280]},{name:"泵站调度",category:"生产体系",fullname:"泵站生产运营调度系统",icon:"nav_i06.png",url:"pumpstation",position:[-300,637]},{name:"管网分析",category:"生产体系",fullname:"DMA分区计量及漏损智能分析系统",icon:"nav_i03.png",url:"dmasys",position:[-240,540]},{name:"智慧灌溉",category:"生产体系",fullname:"绿化现场监测系统（智慧灌溉）",icon:"nav_i15.png",url:"irrigate",position:[-120,540]},{name:"设备管理",category:"运管体系",fullname:"设备全生命周期管理系统",icon:"nav_i16.png",url:"equipment",position:[-180,637]},{name:"巡检管理",category:"运管体系",fullname:"巡检管理系统",icon:"nav_i16.png",url:"inspection",position:[-60,637]},{name:"应急处置",category:"运管体系",fullname:"应急处置系统",icon:"nav_i07.png",url:"disposal",position:[0,540]},{name:"营收管理",category:"营收体系",fullname:"营业收费系统",icon:"nav_i08.png",url:"revenue",position:[120,637]},{name:"表务管理",category:"营收体系",fullname:"表务管理系统",icon:"nav_i17.png",url:"meter",position:[240,637]},{name:"集抄系统",category:"营收体系",icon:"nav_i18.png",url:"collection",position:[180,540]},{name:"协同办公OA",category:"办公体系",fullname:"协同办公OA系统",icon:"nav_i10.png",url:"http://oa.je4.cn/#/index",position:[-445,280]},{name:"图档管理",category:"办公体系",fullname:"图档管理系统",icon:"nav_i12.png",url:"project",position:[-385,182]},{name:"数据可视化",category:"大数据体系",icon:"nav_i11.png",url:"dataease",position:[445,280],newTab:!0},{name:"领导驾驶舱",category:"大数据体系",icon:"nav_i19.png",url:"webscreen",position:[325,280],newTab:!0},{name:"自定义报表",category:"大数据体系",icon:"nav_i20.png",url:"jmreport/list",position:[385,182],ignoreToken:!0,newTab:!0},{name:"综合运维",category:"运维体系",fullname:"综合运维系统",icon:"nav_i14.png",url:"manager",position:[385,378]}],X=["#FF5733","#18B3C3","#9B59B6","#2980B9","#1ABC9C","#FFB039","#F1C40F","#E67E22","#FF6633","#2ECC71","#3498DB","#16A085","#F39C12","#D35400","#8E44AD","#2C3E50","#7F8C8D","#34495E","#CCD1D1","#1F618D","#AF7AC5","#839192","#1D8348","#FAD7A0","#FFB347","#7FFF00","#00FF7F","#00FFFF","#008080","#0000FF","#000080","#800080","#FF00FF","#FF69B4","#FF1493","#00CED1","#00BFFF","#7B68EE","#6A5ACD","#9400D3","#8B008B","#FFA07A","#FF4500","#FF0000","#FF69B4","#FF1493","#FF00FF","#C71585","#B22222","#A52A2A"],Y={name:"quickEntry",props:{draggable:{type:Boolean,default:!1}},data:function(){return{sysnav:V}},methods:{getColor:function(t){var e=Math.abs(this.loseCode(t.name)),a=X[e%X.length],n=this.$utils.hex2rgb(a);return"linear-gradient(45deg,rgba("+n[0]+","+n[1]+","+n[2]+",0.5),rgba("+n[0]+","+n[1]+","+n[2]+",0.2),rgba("+n[0]+","+n[1]+","+n[2]+",0.5))"},loseCode:function(t){for(var e=0,a=0;a<t.length;a++)e+=t.charCodeAt(a);return e},openUrl:function(t,e){t&&(this.$utils.checkIsUrl(t)?window.open(t):e?window.open(window.location.origin+"/"+t+"/"):"/_gallery"==t?this.$router.push(t):window.location.hash="appid="+this.$root.appid+"&path="+t)},changeSys:function(t){this.$utils.checkIsUrl(t.url)||t.newTab?this.openUrl(t.url,t.newTab):(this.$store.dispatch("auth/getAuthMoudles",{appid:t.url}).then(function(){Bus.$emit("authCheckReady")}),window.location.hash="appid="+t.url+"&path=/",this.showSysNav=!1)}},mounted:function(){},created:function(){},beforeDestroy:function(){}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-page",class:{draggable:t.draggable},staticStyle:{height:"100%","margin-top":"5px"}},[a("div",{staticClass:"component-page_drag"},[a("svg",{staticClass:"icon",attrs:{t:"1681870547234",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2236",width:"200",height:"200"}},[a("path",{attrs:{d:"M461.155909 562.844091h-305.064549v54.403178a10.168818 10.168818 0 0 1-16.77855 7.626614L13.219464 519.626614a10.168818 10.168818 0 0 1 0-14.236346l126.093346-106.772592a10.168818 10.168818 0 0 1 16.77855 8.135055v54.403178h305.064549v-305.064549H406.752731a10.168818 10.168818 0 0 1-7.626614-16.77855L504.373386 13.219464a10.168818 10.168818 0 0 1 14.236346 0l106.772592 126.093346a10.168818 10.168818 0 0 1-7.626614 16.77855h-54.911619v305.064549h305.064549V406.752731a10.168818 10.168818 0 0 1 16.77855-7.626614l126.601787 105.247269a10.168818 10.168818 0 0 1 0 14.236346l-126.601787 106.772592a10.168818 10.168818 0 0 1-16.77855-7.626614v-54.911619h-305.064549v305.064549h54.403178a10.168818 10.168818 0 0 1 7.626614 16.77855l-105.247269 126.601787a10.168818 10.168818 0 0 1-14.236346 0l-106.772592-126.601787a10.168818 10.168818 0 0 1 8.135055-16.77855h54.403178z",fill:"#666666","p-id":"2237"}})])]),t._v(" "),a("Row",{attrs:{type:"flex"}},[t._l(t.sysnav,function(e,n){return n<11?a("Col",{key:e,attrs:{span:"4"}},[a("div",{staticClass:"item",on:{click:function(a){return t.changeSys(e)}}},[a("div",{staticClass:"item-icon",style:{background:t.getColor(e)}},[a("img",{attrs:{src:"./static/images/gallery/nav/"+e.icon,alt:""}})]),t._v(" "),a("div",{staticClass:"item-text"},[t._v(t._s(e.name))])])]):t._e()}),t._v(" "),a("Col",{attrs:{span:"4"}},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-icon item-icon_other"},[a("Icon",{attrs:{type:"md-add"}})],1),t._v(" "),a("div",{staticClass:"item-text"},[t._v("添加模块")])])])],2)],1)},staticRenderFns:[]};var W=a("C7Lr")(Y,Q,!1,function(t){a("pkdC")},"data-v-01d26385",null).exports,G={name:"notice",components:{},props:{draggable:{type:Boolean,default:!1}},data:function(){return{}},methods:{},mounted:function(){},created:function(){},beforeDestroy:function(){}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-page",class:{draggable:t.draggable}},[a("div",{staticClass:"component-page_bg",style:{"background-image":"url(./static/images/gallery/daiban.jpg)"}}),t._v(" "),a("div",{staticClass:"component-page_drag"},[a("svg",{staticClass:"icon",attrs:{t:"1681870547234",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2236",width:"200",height:"200"}},[a("path",{attrs:{d:"M461.155909 562.844091h-305.064549v54.403178a10.168818 10.168818 0 0 1-16.77855 7.626614L13.219464 519.626614a10.168818 10.168818 0 0 1 0-14.236346l126.093346-106.772592a10.168818 10.168818 0 0 1 16.77855 8.135055v54.403178h305.064549v-305.064549H406.752731a10.168818 10.168818 0 0 1-7.626614-16.77855L504.373386 13.219464a10.168818 10.168818 0 0 1 14.236346 0l106.772592 126.093346a10.168818 10.168818 0 0 1-7.626614 16.77855h-54.911619v305.064549h305.064549V406.752731a10.168818 10.168818 0 0 1 16.77855-7.626614l126.601787 105.247269a10.168818 10.168818 0 0 1 0 14.236346l-126.601787 106.772592a10.168818 10.168818 0 0 1-16.77855-7.626614v-54.911619h-305.064549v305.064549h54.403178a10.168818 10.168818 0 0 1 7.626614 16.77855l-105.247269 126.601787a10.168818 10.168818 0 0 1-14.236346 0l-106.772592-126.601787a10.168818 10.168818 0 0 1 8.135055-16.77855h54.403178z",fill:"#666666","p-id":"2237"}})])]),t._v(" "),a("div",{staticClass:"component-page_title"},[a("Row",{attrs:{type:"flex"}},[a("Col",{attrs:{span:"12"}},[t._v("\n                个人待办\n            ")]),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-top":"-10px"},attrs:{span:"12"}},[a("Icon",{staticStyle:{"font-size":"40px",color:"#aec7e7"},attrs:{type:"ios-more"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"component-page_content"},[a("Row",{attrs:{type:"flex"}},[a("Col",{attrs:{span:"8"}},[a("span",{staticStyle:{"font-size":"38px","margin-right":"10px"}},[t._v("25")]),t._v("项\n            ")]),t._v(" "),a("Col",{attrs:{span:"16"}},[a("div",[t._v("完成度45%")]),t._v(" "),a("Progress",{staticClass:"progress",attrs:{percent:45,"hide-info":"","stroke-color":"#fff","stroke-width":5}})],1)],1)],1),t._v(" "),a("div",{staticClass:"component-page_title",staticStyle:{"margin-top":"20px"}},[a("Row",{attrs:{type:"flex"}},[a("Col",{attrs:{span:"12"}},[t._v("\n                个人待阅\n            ")]),t._v(" "),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[a("Icon",{staticStyle:{"font-size":"40px","margin-top":"-10px",color:"#aec7e7"},attrs:{type:"ios-more"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"component-page_content"},[a("Row",[a("Col",{attrs:{span:"8"}},[a("span",{staticStyle:{"font-size":"38px","margin-right":"10px"}},[t._v("25")]),t._v("项\n            ")]),t._v(" "),a("Col",{attrs:{span:"16"}},[a("div",[t._v("完成度25%")]),t._v(" "),a("Progress",{staticClass:"progress",attrs:{percent:25,"hide-info":"","stroke-color":"#fff","stroke-width":5}})],1)],1)],1)])},staticRenderFns:[]};var K=a("C7Lr")(G,J,!1,function(t){a("mlCc")},"data-v-7f1c3ded",null).exports,Z={name:"notice",components:{},props:{draggable:{type:Boolean,default:!1}},data:function(){return{}},methods:{},mounted:function(){},created:function(){},beforeDestroy:function(){}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-page",class:{draggable:t.draggable}},[a("div",{staticClass:"component-page_bg",style:{"background-image":"url(./static/images/gallery/notice.png)"}}),t._v(" "),a("div",{staticClass:"component-page_drag"},[a("svg",{staticClass:"icon",attrs:{t:"1681870547234",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2236",width:"200",height:"200"}},[a("path",{attrs:{d:"M461.155909 562.844091h-305.064549v54.403178a10.168818 10.168818 0 0 1-16.77855 7.626614L13.219464 519.626614a10.168818 10.168818 0 0 1 0-14.236346l126.093346-106.772592a10.168818 10.168818 0 0 1 16.77855 8.135055v54.403178h305.064549v-305.064549H406.752731a10.168818 10.168818 0 0 1-7.626614-16.77855L504.373386 13.219464a10.168818 10.168818 0 0 1 14.236346 0l106.772592 126.093346a10.168818 10.168818 0 0 1-7.626614 16.77855h-54.911619v305.064549h305.064549V406.752731a10.168818 10.168818 0 0 1 16.77855-7.626614l126.601787 105.247269a10.168818 10.168818 0 0 1 0 14.236346l-126.601787 106.772592a10.168818 10.168818 0 0 1-16.77855-7.626614v-54.911619h-305.064549v305.064549h54.403178a10.168818 10.168818 0 0 1 7.626614 16.77855l-105.247269 126.601787a10.168818 10.168818 0 0 1-14.236346 0l-106.772592-126.601787a10.168818 10.168818 0 0 1 8.135055-16.77855h54.403178z",fill:"#666666","p-id":"2237"}})])]),t._v(" "),a("div",{staticClass:"component-page_title"},[a("Row",{attrs:{type:"flex"}},[a("Col",{attrs:{span:"12"}},[t._v("\n                通知公告\n            ")]),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-top":"-10px"},attrs:{span:"12"}},[a("Icon",{staticStyle:{"font-size":"40px",color:"#B3CBE2"},attrs:{type:"ios-more"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"component-page_content"},t._l(2,function(e){return a("div",{key:e,staticClass:"component-page_content_item"},[a("div",{staticClass:"component-page_content_title"},[t._v("国务院办公厅关于上市公司独立董事制度改革的意见")]),t._v(" "),a("div",{staticClass:"component-page_content_text"},[t._v("上市公司独立董事制度是中国特色现代企业制度的重要组成部分，是资本市场基础制度的重要内容。独立董事制度作为上市公司治理结构的重要一环，在促进公司规范运作、保护中小投资者合法权益、推动资本市场健康稳定发展等方面发挥了积极作用。但随着全面深化资本市场改革向纵深推进，独立董事定位不清晰、责权利不对等、监督手段不够、履职保障不足等制度性问题亟待解决，已不能满足资本市场高质量发展的内在要求。")])])}),0)])},staticRenderFns:[]};var et=a("C7Lr")(Z,tt,!1,function(t){a("1aUO")},"data-v-2d9265df",null).exports,at=[];[{name:"请假"},{name:"用车申请"},{name:"收文登记"},{name:"出差"},{name:"发文拟稿"},{name:"补录指纹"}].forEach(function(t,e){var a=Math.floor(e/3);at[a]||(at[a]=[]),at[a].push(t)});var nt={name:"processCenter",components:{},props:{draggable:{type:Boolean,default:!1}},data:function(){return{list:at}},methods:{updatePos:function(){var t=this;this.$nextTick(function(){t.$refs.Carousel&&t.$refs.Carousel.updatePos()})}},mounted:function(){},created:function(){},beforeDestroy:function(){},watch:{routePath:function(t){"/_gallery"==t&&this.updatePos()}}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-page",class:{draggable:t.draggable}},[a("div",{staticClass:"component-page_bg",style:{"background-image":"url(./static/images/gallery/jianzhu.png)"}}),t._v(" "),a("div",{staticClass:"component-page_drag"},[a("svg",{staticClass:"icon",attrs:{t:"1681870547234",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2236",width:"200",height:"200"}},[a("path",{attrs:{d:"M461.155909 562.844091h-305.064549v54.403178a10.168818 10.168818 0 0 1-16.77855 7.626614L13.219464 519.626614a10.168818 10.168818 0 0 1 0-14.236346l126.093346-106.772592a10.168818 10.168818 0 0 1 16.77855 8.135055v54.403178h305.064549v-305.064549H406.752731a10.168818 10.168818 0 0 1-7.626614-16.77855L504.373386 13.219464a10.168818 10.168818 0 0 1 14.236346 0l106.772592 126.093346a10.168818 10.168818 0 0 1-7.626614 16.77855h-54.911619v305.064549h305.064549V406.752731a10.168818 10.168818 0 0 1 16.77855-7.626614l126.601787 105.247269a10.168818 10.168818 0 0 1 0 14.236346l-126.601787 106.772592a10.168818 10.168818 0 0 1-16.77855-7.626614v-54.911619h-305.064549v305.064549h54.403178a10.168818 10.168818 0 0 1 7.626614 16.77855l-105.247269 126.601787a10.168818 10.168818 0 0 1-14.236346 0l-106.772592-126.601787a10.168818 10.168818 0 0 1 8.135055-16.77855h54.403178z",fill:"#666666","p-id":"2237"}})])]),t._v(" "),a("div",{staticClass:"component-page_content"},[a("table",{staticStyle:{width:"100%",height:"50%","text-align":"center",color:"#fff"}},[a("tr",[a("td",{staticStyle:{padding:"0 10px"}},[a("div",{staticClass:"item"},[a("div",{staticClass:"item-icon"},[a("svg",{staticClass:"icon",attrs:{t:"1681805466596",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6242",width:"200",height:"200"}},[a("path",{attrs:{d:"M992 1024H32a32 32 0 0 1 0-64h960a32 32 0 0 1 0 64zM1024 896H0v-96a160 160 0 0 1 160-160h704a160 160 0 0 1 160 160zM64 832h896v-32a96 96 0 0 0-96-96H160a96 96 0 0 0-96 96z",fill:"#ffffff","p-id":"6243"}}),a("path",{attrs:{d:"M576 704a32 32 0 0 1-32-32 548.48 548.48 0 0 1 79.04-296A288 288 0 0 0 672 224a160 160 0 0 0-320 0 288 288 0 0 0 48.96 152A548.48 548.48 0 0 1 480 672a32 32 0 0 1-64 0 478.08 478.08 0 0 0-71.36-265.28A352 352 0 0 1 288 224a224 224 0 0 1 448 0 352 352 0 0 1-56.64 182.72A478.08 478.08 0 0 0 608 672a32 32 0 0 1-32 32z",fill:"#ffffff","p-id":"6244"}})])]),t._v(" "),a("div",{staticStyle:{"margin-top":"10px","font-size":"16px"}},[t._v("我审批的")])])]),t._v(" "),t._m(0)])]),t._v(" "),a("Carousel",{ref:"Carousel",staticStyle:{width:"100%",height:"45%",color:"#fff","margin-top":"5%"},attrs:{loop:!0,autoplay:!0,"autoplay-speed":5e3,dots:"inside","radius-dot":!0,trigger:"hover",arrow:"never"}},t._l(t.list,function(e,n){return a("CarouselItem",{key:n},[a("Row",{staticStyle:{"text-align":"center"},attrs:{type:"flex"}},t._l(e,function(e,n){return a("Col",{key:n,attrs:{span:"8"}},[a("div",{staticClass:"process-item"},[a("div",{staticClass:"process-item_icon"},[a("Icon",{attrs:{type:"ios-analytics-outline"}})],1),t._v(" "),a("div",{staticClass:"process-item_text"},[t._v(t._s(e.name))])])])}),1)],1)}),1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{padding:"0 10px"}},[e("div",{staticClass:"item"},[e("div",{staticClass:"item-icon"},[e("i",{staticClass:"fa fa-fw fa-paper-plane",staticStyle:{color:"#fff","font-size":"40px"}})]),this._v(" "),e("div",{staticStyle:{"margin-top":"10px","font-size":"16px"}},[this._v("我发起的")])])])}]};var st=a("C7Lr")(nt,it,!1,function(t){a("AemR")},"data-v-055b9eb9",null).exports,ot={name:"myKbs",components:{},props:{draggable:{type:Boolean,default:!1}},data:function(){return{}},methods:{},mounted:function(){},created:function(){},beforeDestroy:function(){}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component-page",class:{draggable:t.draggable}},[a("div",{staticClass:"component-page_bg",style:{"background-image":"url(./static/images/gallery/kbs.jpg)"}}),t._v(" "),a("div",{staticClass:"component-page_drag"},[a("svg",{staticClass:"icon",attrs:{t:"1681870547234",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2236",width:"200",height:"200"}},[a("path",{attrs:{d:"M461.155909 562.844091h-305.064549v54.403178a10.168818 10.168818 0 0 1-16.77855 7.626614L13.219464 519.626614a10.168818 10.168818 0 0 1 0-14.236346l126.093346-106.772592a10.168818 10.168818 0 0 1 16.77855 8.135055v54.403178h305.064549v-305.064549H406.752731a10.168818 10.168818 0 0 1-7.626614-16.77855L504.373386 13.219464a10.168818 10.168818 0 0 1 14.236346 0l106.772592 126.093346a10.168818 10.168818 0 0 1-7.626614 16.77855h-54.911619v305.064549h305.064549V406.752731a10.168818 10.168818 0 0 1 16.77855-7.626614l126.601787 105.247269a10.168818 10.168818 0 0 1 0 14.236346l-126.601787 106.772592a10.168818 10.168818 0 0 1-16.77855-7.626614v-54.911619h-305.064549v305.064549h54.403178a10.168818 10.168818 0 0 1 7.626614 16.77855l-105.247269 126.601787a10.168818 10.168818 0 0 1-14.236346 0l-106.772592-126.601787a10.168818 10.168818 0 0 1 8.135055-16.77855h54.403178z",fill:"#666666","p-id":"2237"}})])]),t._v(" "),a("div",{staticClass:"component-page_title"},[a("Row",{attrs:{type:"flex"}},[a("Col",{attrs:{span:"12"}},[t._v("\n                我的知识库\n            ")]),t._v(" "),a("Col",{staticStyle:{"text-align":"right","margin-top":"-10px"},attrs:{span:"12"}},[a("Icon",{staticStyle:{"font-size":"40px",color:"#B3CBE2"},attrs:{type:"ios-more"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"component-page_content"},t._l(2,function(e){return a("div",{key:e,staticClass:"component-page_content_item"},[a("div",{staticClass:"component-page_content_title"},[t._v("国务院办公厅关于上市公司独立董事制度改革的意见")]),t._v(" "),a("div",{staticClass:"component-page_content_text"},[t._v("上市公司独立董事制度是中国特色现代企业制度的重要组成部分，是资本市场基础制度的重要内容。独立董事制度作为上市公司治理结构的重要一环，在促进公司规范运作、保护中小投资者合法权益、推动资本市场健康稳定发展等方面发挥了积极作用。但随着全面深化资本市场改革向纵深推进，独立董事定位不清晰、责权利不对等、监督手段不够、履职保障不足等制度性问题亟待解决，已不能满足资本市场高质量发展的内在要求。")])])}),0)])},staticRenderFns:[]};var lt=a("C7Lr")(ot,rt,!1,function(t){a("TNyE")},"data-v-221fb156",null).exports,ct={name:"dataease",props:{linkId:{default:"",type:String},draggable:{type:Boolean,default:!1}},data:function(){return{src:"",isLoading:!0,error:!1}},computed:{allowDataEaseUrl:function(){var t=null,e=this.$store.state.auth.sysMenuMap[this.$root.routePath];return e&&e.allow?e.allow.some(function(e){return!!e.match("/dataease/")&&(t=e.replace("/dataease/",""),!0)}):t=null,t}},methods:{setUrl:function(){this.error=!1,this.isLoading=!0;var t=window.location.origin+"/dataease-api";_sysBaseConf&&_sysBaseConf.sysDataEaseBaseUrl&&(t=_sysBaseConf.sysDataEaseBaseUrl),this.linkId?this.src=t+"/link/"+this.linkId:this.allowDataEaseUrl?this.src=t+"/link/"+this.allowDataEaseUrl:(this.error=!0,this.isLoading=!1)}},mounted:function(){var t=this;this.$refs.iframe&&(this.$refs.iframe.onload=function(){t.isLoading=!1})},created:function(){this.setUrl()},watch:{"$route.params.linkId":function(){this.setUrl()},allowDataEaseUrl:function(){this.setUrl()}}},ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"iframe-wrap",class:{draggable:t.draggable}},[a("iframe",{ref:"iframe",attrs:{src:t.src,frameborder:"0"}}),t._v(" "),t.isLoading?a("img",{staticClass:"loading-img",attrs:{src:"./static/images/loading.webp"}}):t._e(),t._v(" "),t.error?a("div",{staticClass:"error-text"},[a("img",{attrs:{src:"./static/images/custom-empty-image.png"}}),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[t._v("当前页面未配置"+t._s(t.allowDataEaseUrl))])]):t._e(),t._v(" "),a("div",{staticClass:"component-page_drag"},[a("svg",{staticClass:"icon",attrs:{t:"1681870547234",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2236",width:"200",height:"200"}},[a("path",{attrs:{d:"M461.155909 562.844091h-305.064549v54.403178a10.168818 10.168818 0 0 1-16.77855 7.626614L13.219464 519.626614a10.168818 10.168818 0 0 1 0-14.236346l126.093346-106.772592a10.168818 10.168818 0 0 1 16.77855 8.135055v54.403178h305.064549v-305.064549H406.752731a10.168818 10.168818 0 0 1-7.626614-16.77855L504.373386 13.219464a10.168818 10.168818 0 0 1 14.236346 0l106.772592 126.093346a10.168818 10.168818 0 0 1-7.626614 16.77855h-54.911619v305.064549h305.064549V406.752731a10.168818 10.168818 0 0 1 16.77855-7.626614l126.601787 105.247269a10.168818 10.168818 0 0 1 0 14.236346l-126.601787 106.772592a10.168818 10.168818 0 0 1-16.77855-7.626614v-54.911619h-305.064549v305.064549h54.403178a10.168818 10.168818 0 0 1 7.626614 16.77855l-105.247269 126.601787a10.168818 10.168818 0 0 1-14.236346 0l-106.772592-126.601787a10.168818 10.168818 0 0 1 8.135055-16.77855h54.403178z",fill:"#666666","p-id":"2237"}})])])])},staticRenderFns:[]};var dt=a("C7Lr")(ct,ut,!1,function(t){a("RD3B")},"data-v-532fce0d",null).exports,pt=a("Tw5w"),ht={name:"galleryPage",components:{dataease:dt,quickEntry:W,todo:K,notice:et,processCenter:st,myKbs:lt,draggable:a.n(pt).a},data:function(){return{homeList:[{name:"快捷入口",key:"quickEntry",span:"8"},{name:"待办中心",key:"todo",span:"5"},{name:"通知公告",key:"notice",span:"6"},{name:"流程中心",key:"processCenter",span:"5"}],layoutList:[{name:"工作台",key:"gallery",type:"gallery"},{name:"BI工具",key:"bisys1",type:"bisys",linkId:"AgeQlZtp"},{name:"BI工具",key:"bisys2",type:"bisys",linkId:"9HDSoYJS"}]}},computed:{draggable:function(){return this.$root.editorGallery}},methods:{saveGalleryData:function(){var t=s()(this.homeList),e=s()(this.layoutList);localStorage.setItem("homeList",t),localStorage.setItem("layoutList",e)},onUpdate:function(){this.$Message.info("编辑完成后请点击右下角'编辑完成''")}},mounted:function(){},created:function(){var t=localStorage.getItem("homeList"),e=localStorage.getItem("layoutList");try{t&&(this.homeList=JSON.parse(t),this.layoutList=JSON.parse(e))}catch(t){}},beforeDestroy:function(){},watch:{"$root.editorGallery":function(t,e){t||this.saveGalleryData()}}},ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-content",staticStyle:{background:"#efefef",padding:"10px 0"}},[a("draggable",{staticStyle:{height:"100%"},attrs:{animation:"618",disabled:!t.draggable},on:{update:t.onUpdate},model:{value:t.layoutList,callback:function(e){t.layoutList=e},expression:"layoutList"}},[a("transition-group",[t._l(t.layoutList,function(e){return["gallery"==e.type?a("div",{key:e.key,staticStyle:{padding:"0 10px"}},[a("Row",{attrs:{type:"flex",gutter:"12"}},[a("draggable",{attrs:{animation:"618",disabled:!t.draggable},on:{update:t.onUpdate},model:{value:t.homeList,callback:function(e){t.homeList=e},expression:"homeList"}},[a("transition-group",t._l(t.homeList,function(e){return a("Col",{key:e.key,attrs:{span:e.span}},["quickEntry"==e.key?a("quickEntry",{attrs:{draggable:t.draggable}}):"todo"==e.key?a("todo",{attrs:{draggable:t.draggable}}):"notice"==e.key?a("notice",{attrs:{draggable:t.draggable}}):"processCenter"==e.key?a("processCenter",{attrs:{draggable:t.draggable}}):t._e()],1)}),1)],1)],1)],1):"bisys"==e.type?a("dataease",{key:e.key+"-bisys",attrs:{linkId:e.linkId,draggable:t.draggable}}):t._e()]})],2)],1)],1)},staticRenderFns:[]};var gt=a("C7Lr")(ht,ft,!1,function(t){a("4aFD")},"data-v-4a2d2e18",null).exports,mt={name:"customGrid",props:["option"],data:function(){return{isLoading:!1,pageSizeOpts:[8,10,15,20,30,40],pagination:{simple:!1,countRecord:0,currentPage:1,pageSize:15},asynData:[],lastRequestParms:{}}},computed:{queryPage:function(){return!1!==this.option.queryPage},currentPageStart:function(){return(this.pagination.currentPage-1)*this.pagination.pageSize+1},currentPageEnd:function(){return this.pagination.currentPage*this.pagination.pageSize<=this.pagination.countRecord?this.pagination.currentPage*this.pagination.pageSize:this.pagination.countRecord},totalPage:function(){return Math.ceil(this.pagination.countRecord/this.pagination.pageSize)}},methods:{setCurPageList:function(){var t=this;if(this.option.url)return this.$emit("change",this.asynData),this.option.data=this.asynData,this.asynData;if(this.option.data){this.pagination.countRecord=this.option.data.length;var e=this.option.data.filter(function(e,a){return a<=t.currentPageEnd-1&&a>=t.currentPageStart-1});return this.option.data=e,this.$emit("change",e),e}},rowClassName:function(t,e){return"function"==typeof this.option["row-class-name"]?this.option["row-class-name"](t,e):"string"==typeof this.option["row-class-name"]?this.option["row-class-name"]:""},getAsynData:function(t,e,a){return this.$ajax.post(t,e,a||{})},reLoad:function(t){this.loadData(v()(this.lastRequestParms,t))},load:function(t){this.pagination.currentPage=1,this.loadData(t)},loadData:function(t){var e=this;if(this.option.url){var a={pageSize:this.pagination.pageSize,currentPage:this.pagination.currentPage};t&&(this.lastRequestParms=t||{}),a=v()(this.option.defaultPayload||{},{loginName:localStorage.getItem("loginName")},this.lastRequestParms,a),this.isLoading=!0,this.getAsynData(this.option.url,a,this.option.options||{}).then(function(t){var a=t.data.data;e.option.loadFilter&&(a=e.option.loadFilter(t.data)),e.pagination.countRecord=a.countRecord,a.list?e.asynData=a.list:e.asynData=[],e.setCurPageList(),e.isLoading=!1},function(){e.asynData=[],e.setCurPageList(),e.isLoading=!1})}else this.option.data&&(this.pagination&&(this.pagination.countRecord=this.option.data.length),this.setCurPageList())},pageSizeChange:function(t){this.pagination.pageSize=t,this.pagination.currentPage=1,this.reLoad({})},changePage:function(t){this.$emit("on-page-change",t),this.pagination.currentPage=t,this.queryPage?this.$router.push({fullPath:this.$route.fullPath,query:{page:this.pagination.currentPage}}):this.reLoad({})},onselectHandle:function(t,e){this.$emit("on-select",{selection:t,row:e})},onselectALLHandle:function(t){this.$emit("on-select-all",t)},onselectionChangeHandle:function(t){this.$emit("on-selection-change",t)},onselectCancelHandle:function(t,e){this.$emit("on-select-cancel",t,e)},selectAll:function(t){this.$refs.table.selectAll(t)},getSelection:function(){return this.$refs.table.getSelection()},getTableInstance:function(){return this.$refs.table}},created:function(){if(this.queryPage)try{this.$route.query.page&&(this.pagination.currentPage=Number(this.$route.query.page))}catch(t){}this.option.pagination&&(this.pagination=v()({},this.pagination,this.option.pagination))},mounted:function(){!1!==this.option.auto&&this.loadData()},watch:{"$route.query.page":function(t,e){if(this.queryPage)try{t&&(this.pagination.currentPage=Number(t),this.reLoad({}))}catch(t){}}}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._t("list"),t._v(" "),0!=t.option.pagination?a("div",{staticClass:"module-datagrid-page",class:{hastools:t.$slots.tools&&t.$slots.tools.length>0}},[t.$slots.tools?a("div",{staticClass:"module-datagrid-tools"},[t._t("tools")],2):t._e(),t._v(" "),a("Page",{attrs:{total:t.pagination.countRecord,current:t.pagination.currentPage,"page-size":t.pagination.pageSize,size:"small","page-size-opts":t.pageSizeOpts,"show-total":"","show-elevator":"","show-sizer":"",simple:t.pagination.simple},on:{"on-change":t.changePage,"on-page-size-change":t.pageSizeChange}},[t.pagination.simple?[t._v("共"+t._s(t.pagination.countRecord)+"条数据")]:[t._v("共"+t._s(t.pagination.countRecord)+"条数据 每页"+t._s(t.pagination.pageSize)+"条数据 第"+t._s(t.pagination.currentPage)+"/"+t._s(0===t.totalPage?1:t.totalPage)+"页")]],2)],1):t._e()],2)},staticRenderFns:[]};var yt=a("C7Lr")(mt,vt,!1,function(t){a("8Jvz")},"data-v-97169d2e",null).exports,wt=a("lRwf");wt.component("page-title",O),wt.component("allowBtn",H);var _t={name:"adminindex",components:{pageHeader:I,pageMenu:R,galleryPage:gt,customgrid:yt},data:function(){return{showKBS:!1,kbsSearchVal:"",kbsSearchList:[],kbsDetail:{show:!1,loading:!1,hasLoad:!1,data:{title:"",tag:"",link:"",source:"",createTime:"",updateTime:"",readingCount:"",summary:"",text:""}},isCollapsed:!1,collapsible:!0,right:20,bottom:20,sysnavList:[],sysnavMap:[],moveing:!1,showSysNav:!1,option:{auto:!0,data:[],url:"/service_basedata/knowlManage/release",pagination:{simple:!0,countRecord:100,currentPage:1,pageSize:15}}}},computed:{sysNavMaxCols:function(){var t=this,e=1;return l()(this.sysnavMap).forEach(function(a){var n=t.sysnavMap[a].length;e=n>e?n:e}),e},curSysTitle:function(){var t=this,e=this.sysnavList.find(function(e){return e.appid==t.$root.appid});return e?e.fullname||e.name:""},curSysUrl:function(){return this.$config.iframeBaseUrl+"/"+this.$root.appid+"/#"+this.$root.routePath},showPageMenu:function(){return!!(this.sideMenuData&&this.sideMenuData.children.length>0)},rotateIcon:function(){return["menu-icon",this.isCollapsed?"rotate-icon":""]},menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]},sideMenuData:function(){var t=this;return this.$store.state.auth.sysMenuData.find(function(e){return e.id===t.$store.state.auth.mainMenuId})}},methods:{editorGallery:function(){this.$root.editorGallery=!this.$root.editorGallery},getThumb:function(t){return t.imgId?"url("+this.$utils.getFileShowUrl(t.imgId)+")":"url(./static/images/home/home-index.png)"},showDetail:function(t){var e=this;this.kbsDetail.loading=!0,this.kbsDetail.hasLoad=!1,this.$ajax.post("/service_basedata/knowlManage/findById",{id:t.id}).then(function(t){var a=t.data;200==a.code?(e.kbsDetail.show=!0,l()(e.kbsDetail.data).forEach(function(t){a.data[t]&&(e.kbsDetail.data[t]=a.data[t])}),e.kbsDetail.hasLoad=!0):(e.kbsDetail.hasLoad=!1,e.kbsDetail.show=!1),e.kbsDetail.loading=!1},function(t){e.kbsDetail.loading=!1,e.kbsDetail.hasLoad=!1,e.kbsDetail.show=!1})},search:function(){this.$refs.grid.load({keywords:this.kbsSearchVal})},checkRouter:function(){var t=function(t){var e=null;o.a.authority.router&&u.a.state.auth.checkReady&&(-1!=o.a.authority.whiteRouterList.indexOf(t.name)||t.name.match("/_")||(0==u.a.state.auth.sysMenuData.length?e={path:"/000"}:u.a.state.auth.sysMenuMap[t.name]||(e={path:"/403",query:{from:t.fullPath}})));return e}(this.$route);t?this.$router.replace(t):"/000"==this.$root.routePath&&this.$router.replace("/frontsys")},dragstart:function(t){this.$refs.dragEle;this._disX=t.offsetX,this._disY=t.offsetY},drag:function(t){this.moveing=!0;var e=this.$refs.dragEle;if(0!=t.pageX&&0!=t.pageY){var a=t.clientX-this._disX,n=t.clientY-this._disY;a<0&&(a=0),n<0&&(n=0);var i=$(window).width()-a-$(e).width(),s=$(window).height()-n-$(e).height();i<0&&(i=0),s<0&&(s=0),this.right=i,this.bottom=s}},dragend:function(t){this.moveing=!1},openUrl:function(t,e){t&&(this.$utils.checkIsUrl(t)?window.open(t):e?window.open(window.location.origin+"/"+t+"/"):"/_gallery"==t?this.$router.push(t):window.location.hash="appid="+this.$root.appid+"&path="+t)},changeSys:function(t){this.$utils.checkIsUrl(t.url)||t.newTab?this.openUrl(t.url,t.newTab):(this.$store.dispatch("auth/getAuthMoudles",{appid:t.appid}).then(function(){N.$emit("authCheckReady")}),window.location.hash="appid="+t.appid+"&path=/",this.showSysNav=!1)},processSysNavList:function(t){var e={};t.forEach(function(t){t.typeName||(t.typeName="其他"),e[t.typeName]||(e[t.typeName]=[]),e[t.typeName].push(t)}),this.sysnavMap=e,this.sysnavList=t},getSysNavList:function(t){var e=this;this.$ajax.post("/service_user/moudle/getsubsystem").then(function(a){var n=a.data;200==n.code?e.processSysNavList(n.data):e.processSysNavList([]),t&&t()},function(a){console.log(a),e.processSysNavList([]),t&&t()})}},mounted:function(){},created:function(){var t=this;this.$store.dispatch("auth/getUserInfo"),this.getSysNavList(function(){t.$store.dispatch("auth/getAuthMoudles",{appid:t.$root.appid}).then(function(){N.$emit("authCheckReady")})})}},bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{isgallery:"/_gallery"==t.$root.routePath},staticStyle:{height:"100%"},on:{drop:function(e){return e.stopPropagation(),t.drop.apply(null,arguments)}}},[a("pageHeader",{attrs:{title:t.curSysTitle}}),t._v(" "),a("Layout",{style:{transition:"all ease 300ms",position:"absolute",top:t.$store.state.theme.minHeader?"60px":"86px",bottom:0,left:0,right:0}},[a("Sider",{directives:[{name:"show",rawName:"v-show",value:t.showPageMenu,expression:"showPageMenu"}],staticStyle:{background:"#fff"},attrs:{collapsible:t.collapsible,"collapsed-width":64},model:{value:t.isCollapsed,callback:function(e){t.isCollapsed=e},expression:"isCollapsed"}},[a("page-menu",{class:t.menuitemClasses,staticStyle:{height:"100%"},attrs:{collapsed:t.isCollapsed}})],1),t._v(" "),a("Layout",{staticStyle:{background:"#fff",height:"100%","overflow-y":"auto",position:"relative"}},[a("div",{staticClass:"page-container"},["/_gallery"==t.$root.routePath?a("gallery-page",{staticStyle:{height:"100%"}}):t._e(),t._v(" "),a("iframe",{directives:[{name:"show",rawName:"v-show",value:"/_gallery"!=t.$root.routePath,expression:"$root.routePath != '/_gallery'"}],attrs:{src:t.curSysUrl,frameborder:"0"}})],1)])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.moveing,expression:"moveing"}],staticClass:"drag-mask"}),t._v(" "),a("div",{ref:"dragEle",staticClass:"nav",class:{moveing:t.moveing},style:{right:t.right+"px",bottom:t.bottom+"px"},attrs:{draggable:""},on:{drag:function(e){return e.stopPropagation(),t.drag.apply(null,arguments)},dragstart:function(e){return e.stopPropagation(),t.dragstart.apply(null,arguments)},dragend:function(e){return e.stopPropagation(),t.dragend.apply(null,arguments)}}},[a("table",{staticStyle:{height:"100%",width:"100%","border-collapse":"collapse"}},[a("tr",[a("td",{on:{click:function(e){t.showSysNav=!t.showSysNav}}},[t._v("导航")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid #343434"},on:{click:function(e){t.showKBS=!t.showKBS}}},[t._v("知识库")])]),t._v(" "),"/_gallery"==t.$root.routePath?a("tr",[a("td",{staticStyle:{"border-top":"1px solid #343434","font-size":"10px"},on:{click:t.editorGallery}},[t.$root.editorGallery?a("span",[t._v("编辑"),a("br"),t._v("完成")]):a("span",[t._v("编辑"),a("br"),t._v("工作台")])])]):t._e()])]),t._v(" "),a("Modal",{attrs:{draggable:"","footer-hide":"",width:"800",styles:{top:"20px"}},model:{value:t.showSysNav,callback:function(e){t.showSysNav=e},expression:"showSysNav"}},[a("div",{staticStyle:{"font-size":"16px",color:"#0962bd"},attrs:{slot:"header"},slot:"header"},[a("img",{staticStyle:{"vertical-align":"middle",height:"25px"},attrs:{src:"./static/images/sysnav/cube_title.png"}}),t._v(" 系统导航\n    ")]),t._v(" "),a("table",{staticClass:"sysnav-table"},t._l(t.sysnavMap,function(e,n){return a("tr",{key:n},[a("td",{staticStyle:{width:"240px",height:"30px","font-size":"18px",color:"#0962bd","font-weight":"bold"}},[a("div",{staticClass:"sysnav-table-item_title"},[t._v(t._s(n))])]),t._v(" "),a("td",{staticStyle:{padding:"10px"}},[a("Row",{attrs:{type:"flex",gutter:"20"}},t._l(e,function(e){return a("Col",{key:e,attrs:{span:8}},[a("div",{staticClass:"my-card",attrs:{title:e.fullname||e.name},on:{click:function(a){return t.changeSys(e)}}},[t._v("\n               【 "+t._s(e.name)+"】\n              ")])])}),1)],1)])}),0)]),t._v(" "),a("Modal",{attrs:{title:"知识库",draggable:"","footer-hide":"",width:"550",styles:{top:"20px"}},model:{value:t.showKBS,callback:function(e){t.showKBS=e},expression:"showKBS"}},[a("div",{staticStyle:{"font-size":"16px",color:"#0962bd"},attrs:{slot:"header"},slot:"header"},[a("img",{staticStyle:{"vertical-align":"middle",height:"25px"},attrs:{src:"./static/images/sysnav/kb_title.png"}}),t._v(" 知识库\n    ")]),t._v(" "),a("div",{staticStyle:{padding:"0 15px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.kbsDetail.show,expression:"!kbsDetail.show"}],staticClass:"kbs-header"},[a("Input",{staticStyle:{width:"100%"},attrs:{size:"large",placeholder:"请搜索内容"},model:{value:t.kbsSearchVal,callback:function(e){t.kbsSearchVal="string"==typeof e?e.trim():e},expression:"kbsSearchVal"}},[a("Button",{attrs:{slot:"append"},on:{click:function(e){return t.search()}},slot:"append"},[a("Icon",{attrs:{type:"ios-search"}}),t._v("\n            搜索\n          ")],1)],1)],1),t._v(" "),a("div",{staticClass:"kbs-content"},[a("customgrid",{directives:[{name:"show",rawName:"v-show",value:!t.kbsDetail.show,expression:"!kbsDetail.show"}],ref:"grid",attrs:{option:t.option}},[a("div",{attrs:{slot:"list"},slot:"list"},[a("div",{staticStyle:{"max-height":"600px",overflow:"auto",margin:"10px 0",padding:"10px 0"}},t._l(t.option.data,function(e){return a("Card",{key:e},[a("div",{staticClass:"kbs-title",on:{click:function(a){return t.showDetail(e)}}},[t._v(t._s(e.title))]),t._v(" "),a("Row",{attrs:{type:"flex",gutter:"20"}},[a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"kbs-thumb",style:{"background-image":t.getThumb(e)}})]),t._v(" "),a("Col",{attrs:{span:"16"}},[a("div",{staticClass:"kbs-content"},[a("div",{staticClass:"kbs-content-tags"},[t._v("\n                        "+t._s(e.tag)+"\n                      ")]),t._v(" "),a("div",{staticClass:"kbs-content-text"},[t._v("\n                        "+t._s(e.summary)+"\n                      ")])])])],1),t._v(" "),a("Row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",gutter:"20"}},[a("Col",{staticStyle:{"text-align":"left"},attrs:{span:"12"}},[t._v("\n                    来源:"+t._s(e.source)+" "),e.link?a("a",{attrs:{href:e.link,target:"_blank"}},[t._v("查看原文")]):t._e()]),t._v(" "),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[t._v("\n                    "+t._s(new Date(e.createTime).Format("yyyy-MM-dd hh:mm:ss"))+"\n                  ")])],1)],1)}),1),t._v(" "),0==t.option.data.length?a("div",{staticStyle:{"font-size":"14px","text-align":"center",padding:"50px 0"}},[a("Icon",{staticStyle:{"font-size":"50px"},attrs:{type:"ios-basket-outline"}}),t._v(" "),a("br"),t._v(" "),a("br"),t._v("\n              暂无知识库内容，请换个“关键字”搜索吧！\n            ")],1):t._e()])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.kbsDetail.show,expression:"kbsDetail.show"}]},[t.kbsDetail.hasLoad?a("div",[a("div",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[a("Button",{staticStyle:{"font-size":"15px",color:"#0962bd","padding-left":"0","margin-top":"-3px"},attrs:{type:"text",icon:"ios-arrow-back"},on:{click:function(e){t.kbsDetail.show=!1}}},[t._v("返回")]),t._v(" "+t._s(t.kbsDetail.data.title)+"\n            ")],1),t._v(" "),a("div",{staticClass:"kbs-content-tags"},[t._v("\n              "+t._s(t.kbsDetail.data.tag)+"\n            ")]),t._v(" "),a("Row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",gutter:"20"}},[a("Col",{staticStyle:{"text-align":"left"},attrs:{span:"12"}},[t._v("\n                来源:"+t._s(t.kbsDetail.data.source)+" "),t.kbsDetail.data.link?a("a",{attrs:{href:t.kbsDetail.data.link,target:"_blank"}},[t._v("查看原文")]):t._e()]),t._v(" "),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[t._v("\n                发布时间 "+t._s(new Date(t.kbsDetail.data.createTime).Format("yyyy-MM-dd hh:mm:ss"))+"\n              ")])],1),t._v(" "),a("div",{staticClass:"kbs-detail-content",domProps:{innerHTML:t._s(t.kbsDetail.data.text)}})],1):t._e()]),t._v(" "),t.kbsDetail.loading?a("div",{staticStyle:{position:"absolute",top:"60px",left:"0",right:"0","text-align":"center"}},[a("img",{staticStyle:{margin:"0 auto"},attrs:{src:"./static/images/loading.webp"}})]):t._e()],1)])])],1)},staticRenderFns:[]};var xt=a("C7Lr")(_t,bt,!1,function(t){a("BE/l"),a("XMD+")},"data-v-64a7ac0d",null).exports,St=a("lRwf"),kt=a("xaFo");St.prototype.$ajax=n.a,St.prototype.$utils=c,St.prototype.$config=o.a,St.config.productionTip=!1,St.use(kt);var Ct=new St({el:"#app",store:u.a,components:{App:xt},data:function(){return{appid:"",routeName:null,routePath:null,editorGallery:!1}},template:"<App/>",methods:{GetQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(e);return null!=a?unescape(a[2]):null},rejectLogin:function(t){if(localStorage.removeItem("access_token"),_sysBaseConf.casclient&&_sysBaseConf.casclient.url){var e=window.location.origin+window.location.pathname;"#/login"!=window.location.hash&&(e+=window.location.hash),t?window.top.location.replace(_sysBaseConf.casclient.url+(t?"?mode="+t:"")):window.top.location.replace(_sysBaseConf.casclient.url+"?redirecturl="+encodeURIComponent(e)+"&appid="+o.a.appid+"&state="+(new Date).getTime()+(t?"&mode="+t:""))}else this.$router.push("/login")},loginout:function(){var t=this;this.$Modal.confirm({title:"系统退出确认",content:"您确认退出系统吗？",loading:!0,onOk:function(){this.$ajax.post("/service_user/login/logout",{token:localStorage.getItem("access_token")}).then(function(e){t.$Modal.remove(),localStorage.removeItem("access_token"),t.$nextTick(function(){t.rejectLogin("loginout")})},function(){t.$Modal.remove(),localStorage.removeItem("access_token"),t.$nextTick(function(){t.rejectLogin("loginout")})})}})},loadPage:function(){var t=window.location.hash,e={};t&&(t=t.replace("#",""))&&t.split("&").forEach(function(t){var a=t.split("=");e[a[0]]=a[1]}),this.appid=e.appid||"manager",this.routeName=e.name||"/_gallery",this.routePath=e.path||"/_gallery"}},mounted:function(){},created:function(){var t=this;document.title=_sysBaseConf.name;var e=this.GetQueryString("token");e?(localStorage.setItem("access_token",e),window.location.href=window.location.origin+window.location.pathname+window.location.hash):localStorage.getItem("access_token")||this.rejectLogin(),window.addEventListener("hashchange",function(e){t.loadPage()},!1),this.loadPage()}});window._asam_vmInstance=Ct;e.default=Ct;Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t},document.onkeyup=function(t){!t.target._prevClass.match("ivu-btn")||"Space"!==t.code&&"Enter"!==t.code||(t.preventDefault(),t.stopPropagation())}},OMN4:function(t,e){t.exports=axios},P0Ti:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={namespaced:!0,state:{minHeader:!1},mutations:{toggleThemeMinHeader:function(t,e){return t.minHeader=void 0==e?!t.minHeader:e}},actions:{}}},RD3B:function(t,e){},TNyE:function(t,e){},"X/4N":function(t,e){},"XMD+":function(t,e){},lRwf:function(t,e){t.exports=Vue},mkR4:function(t,e){},mlCc:function(t,e){},pkdC:function(t,e){},"w+hY":function(t,e,a){var n={"./auth.js":"D+VX","./theme.js":"P0Ti"};function i(t){return a(s(t))}function s(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="w+hY"},"wZ+K":function(t,e){},xaFo:function(t,e){t.exports=iview},y2WE:function(t,e){}},["NHnr"]);